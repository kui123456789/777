[
    {
        "id": "d07c22cc-2e93-4250-afd1-434f4f878123",
        "scriptName": "状态栏美化",
        "findRegex": "<StatusPlaceHolderImpl/>",
        "replaceString": "```\nhtml\n<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>姜林的笔记</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n\n        body {\n            font-family: \"KaiTi\", \"楷体\", \"Comic Sans MS\", cursive, sans-serif;\n            background-color: #fdfbf7;\n            background-image: linear-gradient(#e4e4e4 1px, transparent 1px);\n            background-size: 100% 30px;\n            padding: 20px;\n            color: #2c3e50;\n            min-height: 100vh;\n        }\n\n        .container {\n            max-width: 600px;\n            margin: 0 auto;\n            background: #fff;\n            padding: 20px 30px;\n            box-shadow: 5px 5px 15px rgba(0,0,0,0.1);\n            border: 1px solid #dcdcdc;\n            transform: rotate(-1deg);\n            position: relative;\n        }\n\n        /* 胶带效果 */\n        .tape {\n            position: absolute;\n            top: -15px;\n            left: 50%;\n            transform: translateX(-50%);\n            width: 120px;\n            height: 35px;\n            background-color: rgba(255, 255, 255, 0.4);\n            border-left: 2px dashed rgba(0,0,0,0.1);\n            border-right: 2px dashed rgba(0,0,0,0.1);\n            box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n            opacity: 0.7;\n            z-index: 10;\n        }\n\n        .header-section {\n            border-bottom: 2px solid #2c3e50;\n            padding-bottom: 10px;\n            margin-bottom: 20px;\n            display: flex;\n            justify-content: space-between;\n            align-items: flex-end;\n        }\n\n        .date-loc {\n            font-size: 14px;\n            color: #555;\n        }\n\n        .mood {\n            font-size: 16px;\n            font-weight: bold;\n            color: #c0392b;\n            cursor: pointer;\n            text-decoration: underline;\n            text-decoration-style: wavy;\n        }\n\n        .section-title {\n            font-size: 18px;\n            font-weight: bold;\n            margin: 15px 0 10px 0;\n            border-left: 4px solid #2c3e50;\n            padding-left: 10px;\n            background: rgba(0,0,0,0.03);\n        }\n\n        .finance-card {\n            display: flex;\n            justify-content: space-around;\n            background: #f8f9fa;\n            border: 1px dashed #2c3e50;\n            padding: 15px;\n            margin-bottom: 20px;\n            border-radius: 5px;\n        }\n\n        .finance-item {\n            text-align: center;\n            cursor: pointer;\n            transition: transform 0.2s;\n        }\n\n        .finance-item:active {\n            transform: scale(0.95);\n        }\n\n        .label {\n            font-size: 14px;\n            color: #7f8c8d;\n            display: block;\n        }\n\n        .value {\n            font-size: 24px;\n            font-weight: bold;\n            color: #2c3e50;\n        }\n\n        .money-value {\n            color: #27ae60;\n        }\n\n        .favor-value {\n            color: #e74c3c;\n        }\n\n        .body-record-list {\n            list-style: none;\n        }\n\n        .body-item {\n            padding: 8px 0;\n            border-bottom: 1px solid #eee;\n            display: flex;\n            justify-content: space-between;\n            cursor: pointer;\n        }\n\n        .body-item:hover {\n            background-color: rgba(0,0,0,0.02);\n        }\n\n        .body-part {\n            font-weight: bold;\n            min-width: 60px;\n        }\n\n        .body-desc {\n            color: #555;\n            font-size: 14px;\n            text-align: right;\n            flex: 1;\n            margin-left: 10px;\n        }\n\n        .inventory-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n            gap: 10px;\n            margin-top: 10px;\n        }\n\n        .inv-item {\n            background: #fff;\n            border: 1px solid #bdc3c7;\n            padding: 8px;\n            text-align: center;\n            font-size: 13px;\n            border-radius: 3px;\n            box-shadow: 2px 2px 0 #bdc3c7;\n        }\n\n        .loading {\n            text-align: center;\n            padding: 40px;\n            color: #7f8c8d;\n            font-style: italic;\n        }\n\n        .note-doodle {\n            position: absolute;\n            bottom: 10px;\n            right: 10px;\n            opacity: 0.2;\n            font-size: 40px;\n            pointer-events: none;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\" id=\"content\">\n        <div class=\"tape\"></div>\n        <div class=\"loading\">正在翻开笔记...</div>\n    </div>\n\n    <script>\n        // ========== 关键变量定义 ==========\n        const exampleXML = `<jianglin_notebook>$1</jianglin_notebook>`;\n\n        // ========== 解析XML ==========\n        function parseXML(xmlText) {\n            console.log(\"开始解析姜林笔记...\");\n            const result = {\n                header: {},\n                finance: {},\n                bodyRecords: [],\n                inventory: []\n            };\n\n            try {\n                // 解析头部信息\n                const headerMatch = xmlText.match(/<header_info>([\\s\\S]*?)<\\/header_info>/i);\n                if (headerMatch && headerMatch[1]) {\n                    const text = headerMatch[1].trim();\n                    const time = text.match(/\\[时间\\|([^\\]]+)\\]/);\n                    if (time) result.header.time = time[1];\n                    const place = text.match(/\\[地点\\|([^\\]]+)\\]/);\n                    if (place) result.header.place = place[1];\n                    const mood = text.match(/\\[心情\\|([^\\]]+)\\]/);\n                    if (mood) result.header.mood = mood[1];\n                }\n\n                // 解析财务信息\n                const financeMatch = xmlText.match(/<finance_status>([\\s\\S]*?)<\\/finance_status>/i);\n                if (financeMatch && financeMatch[1]) {\n                    const text = financeMatch[1].trim();\n                    const money = text.match(/\\[存款余额\\|([^\\]]+)\\]/);\n                    if (money) result.finance.money = money[1];\n                    const favor = text.match(/\\[好感度\\|([^\\]]+)\\]/);\n                    if (favor) result.finance.favor = favor[1];\n                }\n\n                // 解析身体记录（含多值字段）\n                const bodyMatch = xmlText.match(/<body_records>([\\s\\S]*?)<\\/body_records>/i);\n                if (bodyMatch && bodyMatch[1]) {\n                    const text = bodyMatch[1].trim();\n\n                    // 单独提取腿长\n                    const leg = text.match(/\\[腿长\\|([^\\]]+)\\]/);\n                    if (leg) result.bodyRecords.push({part: '腿长', desc: leg[1], type: 'leg'});\n\n                    // 提取私密记录列表\n                    const regex = /\\[私密记录\\|([^\\]]+)\\]/g;\n                    let match;\n                    while ((match = regex.exec(text)) !== null) {\n                        if (match[1]) {\n                            const parts = match[1].split('|');\n                            result.bodyRecords.push({\n                                part: parts[0] || '未知部位',\n                                desc: parts[1] || '无记录',\n                                type: 'private'\n                            });\n                        }\n                    }\n                }\n\n                // 解析背包\n                const invMatch = xmlText.match(/<inventory_list>([\\s\\S]*?)<\\/inventory_list>/i);\n                if (invMatch && invMatch[1]) {\n                    const text = invMatch[1].trim();\n                    const regex = /\\[物品\\|([^\\]]+)\\]/g;\n                    let match;\n                    while ((match = regex.exec(text)) !== null) {\n                        if (match[1]) {\n                            const parts = match[1].split('|');\n                            result.inventory.push({\n                                name: parts[0] || '未知物品',\n                                count: parts[1] || '1'\n                            });\n                        }\n                    }\n                }\n\n                return result;\n            } catch (error) {\n                console.error('解析错误:', error);\n                return result;\n            }\n        }\n\n        // ========== 交互函数 ==========\n        function handleClick(type, param) {\n            // 发送格式：/send 关键词：参数|/trigger\n            // 示例：/send 查看日记：焦虑|/trigger\n            let msg = '';\n\n            switch(type) {\n                case 'mood':\n                    msg = `查看日记：${param}`;\n                    break;\n                case 'money':\n                    msg = `检查存款：${param}`;\n                    break;\n                case 'body':\n                    msg = `身体检查：${param}`;\n                    break;\n                default:\n                    msg = `查看：${param}`;\n            }\n\n            if (typeof triggerSlash === 'function') {\n                triggerSlash(`/send ${msg}|/trigger`);\n            } else {\n                alert(`[模拟发送] ${msg}`);\n            }\n        }\n\n        // ========== 渲染界面 ==========\n        function renderPage(data) {\n            let html = `\n                <div class=\"tape\"></div>\n                <div class=\"header-section\">\n                    <div class=\"date-loc\">\n                        <p>${data.header.time || '未知时间'}</p>\n                        <p>@ ${data.header.place || '未知地点'}</p>\n                    </div>\n                    <div class=\"mood\" onclick=\"handleClick('mood', '${data.header.mood || ''}')\">\n                        心情：${data.header.mood || '平静'}\n                    </div>\n                </div>\n\n                <div class=\"section-title\">现状记录</div>\n                <div class=\"finance-card\">\n                    <div class=\"finance-item\" onclick=\"handleClick('money', '${data.finance.money || 0}')\">\n                        <span class=\"label\">当前存款</span>\n                        <span class=\"value money-value\">¥${data.finance.money || '0.0'}</span>\n                    </div>\n                    <div class=\"finance-item\" onclick=\"handleClick('favor', '${data.finance.favor || 0}')\">\n                        <span class=\"label\">信赖度</span>\n                        <span class=\"value favor-value\">${data.finance.favor || '0'}</span>\n                    </div>\n                </div>\n\n                <div class=\"section-title\">身体数据</div>\n                <div class=\"body-record-list\">\n            `;\n\n            data.bodyRecords.forEach(item => {\n                html += `\n                    <div class=\"body-item\" onclick=\"handleClick('body', '${item.part}')\">\n                        <span class=\"body-part\">${item.part}</span>\n                        <span class=\"body-desc\">${item.desc}</span>\n                    </div>\n                `;\n            });\n\n            html += `\n                </div>\n                <div class=\"section-title\">背包物品</div>\n                <div class=\"inventory-grid\">\n            `;\n\n            if (data.inventory.length > 0) {\n                data.inventory.forEach(item => {\n                    html += `\n                        <div class=\"inv-item\">\n                            ${item.name} <span style=\"color:#7f8c8d\">x${item.count}</span>\n                        </div>\n                    `;\n                });\n            } else {\n                html += `<div class=\"inv-item\">空空如也</div>`;\n            }\n\n            html += `\n                </div>\n                <div class=\"note-doodle\">✏️</div>\n            `;\n\n            document.getElementById('content').innerHTML = html;\n        }\n\n        // ========== 主函数 ==========\n        function init() {\n            try {\n                const data = parseXML(exampleXML);\n                renderPage(data);\n            } catch (error) {\n                document.getElementById('content').innerHTML =\n                    '<div class=\"loading\">❌ 笔记打不开：' + error.message + '</div>';\n            }\n        }\n\n        document.addEventListener('DOMContentLoaded', init);\n    </script>\n</body>\n</html>\n```",
        "trimStrings": [],
        "placement": [
            1,
            2
        ],
        "disabled": true,
        "markdownOnly": true,
        "promptOnly": false,
        "runOnEdit": true,
        "substituteRegex": 0,
        "minDepth": null,
        "maxDepth": null
    }
]
