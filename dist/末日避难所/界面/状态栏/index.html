<head><script type="module">import{waitUntil as e}from'https://testingcf.jsdelivr.net/npm/async-wait-until/+esm';import{createPinia as t,defineStore as a}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';var l={889(e,t){t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,l]of t)a[e]=l;return a}}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={exports:{}};return l[e](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const o=_;var c=r.n(o);const s=Vue,i={class:'content-panel'},d=['innerHTML'],m={key:1,class:'no-content'},u={key:2,class:'options-section'},p={class:'options-grid'},f=['onClick'],v={class:'option-number'},V={class:'option-text'},E=(0,s.defineComponent)({__name:'ContentPanel',setup(e){const t=(0,s.ref)(''),a=(0,s.ref)([]);const l=(0,s.computed)(()=>t.value.replace(/&/g,'&amp;').replace(/\x3c/g,'&lt;').replace(/>/g,'&gt;').replace(/\n/g,'<br>'));return(0,s.onMounted)(()=>{t.value=function(){try{const e=getCurrentMessageId();if(void 0===e)return'';const t=getChatMessages(e)[0];if(!t)return'';const a=t.message||'',l=/<content>([\s\S]*?)<\/content>/i,n=a.match(l);return n&&n[1]?n[1].trim():''}catch(e){return console.error('[ContentPanel] 提取正文失败:',e),''}}(),a.value=function(){try{const e=getCurrentMessageId();if(void 0===e)return[];const t=getChatMessages(e)[0];if(!t)return[];const a=t.message||'',l=/<options>([\s\S]*?)<\/options>/i,n=a.match(l);if(!n||!n[1])return[];const r=/<opt>([\s\S]*?)<\/opt>/gi,o=[];let c;for(;null!==(c=r.exec(n[1]));){const e=c[1].trim();e&&o.push(e)}return o}catch(e){return console.error('[ContentPanel] 提取选项失败:',e),[]}}()}),(e,n)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',i,[t.value?((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:0,class:'content-text',innerHTML:l.value},null,8,d)):((0,s.openBlock)(),(0,s.createElementBlock)('div',m,[...n[0]||(n[0]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-file-circle-question'},null,-1),(0,s.createElementVNode)('p',null,'未找到正文内容',-1),(0,s.createElementVNode)('p',{class:'hint'},'正文应使用 content 标签包裹',-1)])])),(0,s.createCommentVNode)(' 选项区域 '),a.value.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',u,[n[1]||(n[1]=(0,s.createElementVNode)('div',{class:'options-title'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-hand-pointer'}),(0,s.createElementVNode)('span',null,'选择你的行动')],-1)),(0,s.createElementVNode)('div',p,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(a.value,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('button',{key:t,class:'option-button',onClick:t=>async function(e){try{await triggerSlash(`/send ${e}`),toastr.success('已发送选项')}catch(e){console.error('[ContentPanel] 发送选项失败:',e),toastr.error('发送失败')}}(e)},[(0,s.createElementVNode)('span',v,(0,s.toDisplayString)(t+1),1),(0,s.createElementVNode)('span',V,(0,s.toDisplayString)(e),1)],8,f))),128))])])):(0,s.createCommentVNode)('v-if',!0)]))}});var N=r(889);const g=(0,N.A)(E,[['__scopeId','data-v-536cd44c']]);function y(e){return!!(0,s.getCurrentScope)()&&((0,s.onScopeDispose)(e),!0)}const k='undefined'!=typeof window&&'undefined'!=typeof document,b=('undefined'!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope),Object.prototype.toString),h=e=>'[object Object]'===b.call(e),B=()=>{};function S(...e){if(1!==e.length)return(0,s.toRef)(...e);const t=e[0];return'function'==typeof t?(0,s.readonly)((0,s.customRef)(()=>({get:t,set:B}))):(0,s.ref)(t)}function w(e,t){return function(...a){return new Promise((l,n)=>{Promise.resolve(e(()=>t.apply(this,a),{fn:t,thisArg:this,args:a})).then(l).catch(n)})}}const C=e=>e();function x(e){return Array.isArray(e)?e:[e]}function D(e){const t=Object.create(null);return a=>t[a]||(t[a]=e(a))}const L=/\B([A-Z])/g,I=(D(e=>e.replace(L,'-$1').toLowerCase()),/-(\w)/g);D(e=>e.replace(I,(_,e)=>e?e.toUpperCase():''));function j(e){return e||(0,s.getCurrentInstance)()}function A(e,t,a={}){const{eventFilter:l=C,...n}=a;return(0,s.watch)(e,w(l,t),n)}function T(e,t,a={}){const{eventFilter:l,initialState:n='active',...r}=a,{eventFilter:o,pause:c,resume:i,isActive:d}=function(e=C,t={}){const{initialState:a='active'}=t,l=S('active'===a);return{isActive:(0,s.readonly)(l),pause:function(){l.value=!1},resume:function(){l.value=!0},eventFilter:(...t)=>{l.value&&e(...t)}}}(l,{initialState:n});return{stop:A(e,t,{...r,eventFilter:o}),pause:c,resume:i,isActive:d}}function O(e,t=1e3,a={}){const{immediate:l=!0,immediateCallback:n=!1}=a;let r=null;const o=(0,s.shallowRef)(!1);function c(){r&&(clearInterval(r),r=null)}function i(){o.value=!1,c()}function d(){const a=(0,s.toValue)(t);a<=0||(o.value=!0,n&&e(),c(),o.value&&(r=setInterval(e,a)))}if(l&&k&&d(),(0,s.isRef)(t)||'function'==typeof t){y((0,s.watch)(t,()=>{o.value&&k&&d()}))}return y(i),{isActive:(0,s.shallowReadonly)(o),pause:i,resume:d}}function F(e,t,a={}){const{eventFilter:l=C,...n}=a,r=w(l,t);let o,c,i;if('sync'===n.flush){let t=!1;c=()=>{},o=e=>{t=!0,e(),t=!1},i=(0,s.watch)(e,(...e)=>{t||r(...e)},n)}else{const t=[];let a=0,l=0;c=()=>{a=l},t.push((0,s.watch)(e,()=>{l++},{...n,flush:'sync'})),o=e=>{const t=l;e(),a+=l-t},t.push((0,s.watch)(e,(...e)=>{const t=a>0&&a===l;a=0,l=0,t||r(...e)},n)),i=()=>{t.forEach(e=>e())}}return{stop:i,ignoreUpdates:o,ignorePrevAsyncUpdates:c}}const M=z,P=M.z.enum(['核战','丧尸潮','极寒','伪人入侵','病毒爆发','机器暴动','外星入侵','超自然灾变']),R=M.z.enum(['爆发前的一周','爆发前的五分钟','爆发后的一年','爆发的十年后','爆发的一百年后','爆发的两百年后']),q=M.z.object({当前日期:M.z.string().prefault('2077年10月23日'),当前时间:M.z.string().prefault('08:00'),灾难本质:P.prefault('核战'),世界现状:M.z.string().prefault('高辐射环境，地表废土化'),时间线节点:R.prefault('爆发后的一年')}),J=M.z.object({当前值:M.z.coerce.number().transform(e=>Math.max(0,e)).prefault(50),上限:M.z.coerce.number().transform(e=>Math.max(1,e)).prefault(100)}),U=M.z.object({电力:J.prefault({当前值:50,上限:100}),水源:J.prefault({当前值:50,上限:100}),食物:J.prefault({当前值:50,上限:100}),人口:J.prefault({当前值:30,上限:100})}),W=M.z.object({科技等级:M.z.string().prefault('工业时代'),卫生度:M.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(60),精神健康度:M.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(50)}),G=M.z.object({分配方法:M.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(50),信息管控:M.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(50),社会伦理:M.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(50),治安手段:M.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(50)}),H=M.z.object({统治力:M.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(50),防御等级:M.z.coerce.number().transform(e=>Math.max(0,e)).prefault(10),隐蔽度:M.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(50),隐藏目的:M.z.string().prefault('无'),秘密实验进度:M.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(0)}),Y=M.z.object({避难所名称:M.z.string().prefault('Vault-101'),基础生存资源:U.prefault({电力:{当前值:50,上限:100},水源:{当前值:50,上限:100},食物:{当前值:50,上限:100},人口:{当前值:30,上限:100}}),环境指标:W.prefault({科技等级:'工业时代',卫生度:60,精神健康度:50}),社会制度:G.prefault({分配方法:50,信息管控:50,社会伦理:50,治安手段:50}),宏观属性:H.prefault({统治力:50,防御等级:10,隐蔽度:50,隐藏目的:'无',秘密实验进度:0})}),Z=M.z.object({宗旨:M.z.string().prefault('待定'),好感度:M.z.coerce.number().transform(e=>_.clamp(e,-100,100)).prefault(0),观感:M.z.string().prefault('中立'),领导人:M.z.string().prefault('未知'),人数占比:M.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(10)}),K=M.z.record(M.z.string().describe('派系名称'),Z.prefault({宗旨:'待定',好感度:0,观感:'中立',领导人:'未知',人数占比:10})),Q=M.z.object({等级:M.z.coerce.number().transform(e=>Math.max(1,e)).prefault(1),效果:M.z.string().prefault('基础功能'),说明:M.z.string().prefault(''),状态:M.z.enum(['正常','损坏','升级中','停用']).prefault('正常')}),X=M.z.object({类型:M.z.enum(['武器','防具','饰品','消耗品','材料','杂项']).prefault('杂项'),效果:M.z.string().prefault(''),说明:M.z.string().prefault(''),数量:M.z.coerce.number().transform(e=>Math.max(0,e)).prefault(1)}),ee=M.z.object({设施区域:M.z.record(M.z.string().describe('设施名称'),Q.prefault({等级:1,效果:'基础功能',说明:'',状态:'正常'})).prefault({}),仓库系统:M.z.record(M.z.string().describe('物品名称'),X.prefault({类型:'杂项',效果:'',说明:'',数量:1})).transform(e=>_.pickBy(e,({数量:e})=>e>0)).prefault({})}),te=M.z.object({威慑力:M.z.coerce.number().transform(e=>_.clamp(e,1,10)).prefault(5),洞察力:M.z.coerce.number().transform(e=>_.clamp(e,1,10)).prefault(5),抗压值:M.z.coerce.number().transform(e=>_.clamp(e,1,10)).prefault(5),统御力:M.z.coerce.number().transform(e=>_.clamp(e,1,10)).prefault(5),科研力:M.z.coerce.number().transform(e=>_.clamp(e,1,10)).prefault(5),反应力:M.z.coerce.number().transform(e=>_.clamp(e,1,10)).prefault(5),气运:M.z.coerce.number().transform(e=>_.clamp(e,1,10)).prefault(5)}),ae=M.z.object({效果:M.z.string().prefault('')}),le=M.z.object({姓名:M.z.string().prefault('{{user}}'),当前位置:M.z.string().prefault('监督者办公室'),行动点数:M.z.coerce.number().transform(e=>Math.max(0,e)).prefault(3),行动点数上限:M.z.coerce.number().transform(e=>Math.max(1,e)).prefault(3),SPECIAL:te.prefault({威慑力:5,洞察力:5,抗压值:5,统御力:5,科研力:5,反应力:5,气运:5}),特质:M.z.record(M.z.string().describe('特质名称'),ae.prefault({效果:''})).prefault({})}),ne=M.z.object({武器位:M.z.string().prefault('空'),防具位:M.z.string().prefault('空'),饰品工具位:M.z.string().prefault('空')}),re=M.z.object({姓名:M.z.string().prefault('未命名'),年龄:M.z.coerce.number().transform(e=>Math.max(0,e)).prefault(25),性别:M.z.enum(['男','女','其他']).prefault('男'),武力:M.z.coerce.number().transform(e=>_.clamp(e,1,100)).prefault(10),管理:M.z.coerce.number().transform(e=>_.clamp(e,1,100)).prefault(10),探索生存:M.z.coerce.number().transform(e=>_.clamp(e,1,100)).prefault(10),生命值:M.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(100),防护等级:M.z.coerce.number().transform(e=>Math.max(0,e)).prefault(0),状态:M.z.enum(['健康','生病','崩溃','死亡']).prefault('健康'),忠诚度:M.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(50),装备栏:ne.prefault({武器位:'空',防具位:'空',饰品工具位:'空'}),特质:M.z.record(M.z.string().describe('特质名称'),ae.prefault({效果:''})).prefault({}),描述:M.z.string().prefault('')}),oe=M.z.record(M.z.string().describe('追随者ID'),re.prefault({姓名:'未命名',年龄:25,性别:'男',武力:10,管理:10,探索生存:10,生命值:100,防护等级:0,状态:'健康',忠诚度:50,装备栏:{武器位:'空',防具位:'空',饰品工具位:'空'},特质:{},描述:''})),ce=M.z.object({世界:q.prefault({当前日期:'2077年10月23日',当前时间:'08:00',灾难本质:'核战',世界现状:'高辐射环境，地表废土化',时间线节点:'爆发后的一年'}),避难所:Y.prefault({避难所名称:'Vault-101',基础生存资源:{电力:{当前值:50,上限:100},水源:{当前值:50,上限:100},食物:{当前值:50,上限:100},人口:{当前值:30,上限:100}},环境指标:{科技等级:'工业时代',卫生度:60,精神健康度:50},社会制度:{分配方法:50,信息管控:50,社会伦理:50,治安手段:50},宏观属性:{统治力:50,防御等级:10,隐蔽度:50,隐藏目的:'无',秘密实验进度:0}}),派系:K.prefault({}),设施与库存:ee.prefault({设施区域:{},仓库系统:{}}),监督者:le.prefault({姓名:'{{user}}',当前位置:'监督者办公室',行动点数:3,行动点数上限:3,SPECIAL:{威慑力:5,洞察力:5,抗压值:5,统御力:5,科研力:5,反应力:5,气运:5},特质:{}}),追随者:oe.prefault({}),$社会Buff:M.z.array(M.z.string()).prefault([]),$资源警告:M.z.array(M.z.string()).prefault([]),$气运加成:M.z.coerce.number().prefault(0)});const se=(ie=ce,'message'!==(de={type:'message',message_id:getCurrentMessageId()}).type||void 0!==de.message_id&&'latest'!==de.message_id||(de.message_id=-1),a(`mvu_data.${_(de).entries().sortBy(e=>e[0]).map(e=>e[1]).join('.')}`,errorCatched(()=>{const e=(0,s.ref)(ie.parse(_.get(getVariables(de),'stat_data',{})));me&&me(e),O(()=>{const a=_.get(getVariables(de),'stat_data',{}),l=ie.safeParse(a);l.error||(_.isEqual(e.value,l.data)||t(()=>{e.value=l.data}),_.isEqual(a,l.data)||updateVariablesWith(e=>_.set(e,'stat_data',l.data),de))},2e3);const{ignoreUpdates:t}=F(e,a=>{const l=ie.safeParse(a);l.error||(_.isEqual(a,l.data)||t(()=>{e.value=l.data}),updateVariablesWith(e=>_.set(e,'stat_data',l.data),de))},{deep:!0});return{data:e}})));var ie,de,me;const ue={class:'facility-inventory'},pe={class:'section'},fe={key:0,class:'empty-hint'},ve={key:1,class:'facility-grid'},Ve={class:'facility-header'},Ee={class:'facility-name'},Ne={class:'facility-body'},ge={class:'facility-level'},ye={class:'facility-effect'},ke={key:0,class:'facility-desc'},be={class:'section'},he={class:'section-title'},Be={class:'item-count'},ze={key:0,class:'empty-hint'},Se={key:1,class:'inventory-list'},_e={class:'group-title'},we={class:'item-grid'},Ce={class:'item-icon'},xe={class:'item-info'},De={class:'item-name'},Le={class:'item-effect'},Ie={class:'item-quantity'},je=(0,s.defineComponent)({__name:'FacilityInventory',setup(e){const t=se(),a=(0,s.computed)(()=>t.data),l=(0,s.computed)(()=>{const e={};for(const[t,l]of Object.entries(a.value.设施与库存.仓库系统)){const a=l.类型;e[a]||(e[a]={}),e[a][t]=l}return e});return(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',ue,[(0,s.createCommentVNode)(' 设施区域 '),(0,s.createElementVNode)('div',pe,[t[1]||(t[1]=(0,s.createElementVNode)('h3',{class:'section-title'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-industry'}),(0,s.createTextVNode)(' 设施区域 ')],-1)),0===Object.keys(a.value.设施与库存.设施区域).length?((0,s.openBlock)(),(0,s.createElementBlock)('div',fe,'尚未建造任何设施')):((0,s.openBlock)(),(0,s.createElementBlock)('div',ve,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(a.value.设施与库存.设施区域,(e,a)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:a,class:(0,s.normalizeClass)(['facility-card',e.状态.toLowerCase()])},[(0,s.createElementVNode)('div',Ve,[(0,s.createElementVNode)('span',Ee,(0,s.toDisplayString)(a),1),(0,s.createElementVNode)('span',{class:(0,s.normalizeClass)(['status-badge',e.状态.toLowerCase()])},(0,s.toDisplayString)(e.状态),3)]),(0,s.createElementVNode)('div',Ne,[(0,s.createElementVNode)('div',ge,[t[0]||(t[0]=(0,s.createElementVNode)('i',{class:'fa-solid fa-star'},null,-1)),(0,s.createTextVNode)(' Lv.'+(0,s.toDisplayString)(e.等级),1)]),(0,s.createElementVNode)('div',ye,(0,s.toDisplayString)(e.效果),1),e.说明?((0,s.openBlock)(),(0,s.createElementBlock)('div',ke,(0,s.toDisplayString)(e.说明),1)):(0,s.createCommentVNode)('v-if',!0)])],2))),128))]))]),(0,s.createCommentVNode)(' 仓库系统 '),(0,s.createElementVNode)('div',be,[(0,s.createElementVNode)('h3',he,[t[2]||(t[2]=(0,s.createElementVNode)('i',{class:'fa-solid fa-box-open'},null,-1)),t[3]||(t[3]=(0,s.createTextVNode)(' 仓库系统 ',-1)),(0,s.createElementVNode)('span',Be,'('+(0,s.toDisplayString)(Object.keys(a.value.设施与库存.仓库系统).length)+'种物品)',1)]),0===Object.keys(a.value.设施与库存.仓库系统).length?((0,s.openBlock)(),(0,s.createElementBlock)('div',ze,'仓库为空')):((0,s.openBlock)(),(0,s.createElementBlock)('div',Se,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(l.value,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:t,class:'item-group'},[(0,s.createElementVNode)('h4',_e,(0,s.toDisplayString)(t),1),(0,s.createElementVNode)('div',we,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e,(e,t)=>{return(0,s.openBlock)(),(0,s.createElementBlock)('div',{key:t,class:'item-card'},[(0,s.createElementVNode)('div',Ce,[(0,s.createElementVNode)('i',{class:(0,s.normalizeClass)(['fa-solid',(a=e.类型,{武器:'fa-gun',防具:'fa-shield',饰品:'fa-gem',消耗品:'fa-flask',材料:'fa-cubes',杂项:'fa-box'}[a]||'fa-box')])},null,2)]),(0,s.createElementVNode)('div',xe,[(0,s.createElementVNode)('div',De,(0,s.toDisplayString)(t),1),(0,s.createElementVNode)('div',Le,(0,s.toDisplayString)(e.效果||'无特殊效果'),1)]),(0,s.createElementVNode)('div',Ie,'x'+(0,s.toDisplayString)(e.数量),1)]);var a}),128))])]))),128))]))])]))}}),Ae=(0,N.A)(je,[['__scopeId','data-v-7cec1cfc']]),Te={class:'follower-system'},Oe={key:0,class:'empty-state'},Fe={key:1,class:'follower-list'},Me={class:'follower-header'},Pe={class:'avatar'},$e={class:'basic-info'},Re={class:'name'},qe={class:'meta'},Je={class:'stats-section'},Ue={class:'stat-item'},We={class:'stat-value'},Ge={class:'stat-item'},He={class:'stat-value'},Ye={class:'stat-item'},Ze={class:'stat-value'},Ke={class:'survival-section'},Qe={class:'survival-row'},Xe={class:'survival-item'},et={class:'hp-bar'},tt={class:'survival-value'},at={class:'survival-row-inline'},lt={class:'mini-stat'},nt={class:'mini-stat'},rt={class:'equipment-section'},ot={class:'equipment-slots'},ct={class:'slot'},st={class:'slot'},it={class:'slot'},dt={key:0,class:'perks-section'},mt={class:'perk-list'},ut=['title'],pt={key:1,class:'description'},ft=(0,s.defineComponent)({__name:'FollowerSystem',setup(e){const t=se(),a=(0,s.computed)(()=>t.data);return(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',Te,[0===Object.keys(a.value.追随者).length?((0,s.openBlock)(),(0,s.createElementBlock)('div',Oe,[...t[0]||(t[0]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-user-slash'},null,-1),(0,s.createElementVNode)('p',null,'尚无追随者',-1)])])):((0,s.openBlock)(),(0,s.createElementBlock)('div',Fe,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(a.value.追随者,(e,a)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:a,class:(0,s.normalizeClass)(['follower-card',{dead:'死亡'===e.状态}])},[(0,s.createCommentVNode)(' 头部信息 '),(0,s.createElementVNode)('div',Me,[(0,s.createElementVNode)('div',Pe,[(0,s.createElementVNode)('i',{class:(0,s.normalizeClass)(['fa-solid','男'===e.性别?'fa-mars':'女'===e.性别?'fa-venus':'fa-genderless'])},null,2)]),(0,s.createElementVNode)('div',$e,[(0,s.createElementVNode)('div',Re,(0,s.toDisplayString)(e.姓名),1),(0,s.createElementVNode)('div',qe,(0,s.toDisplayString)(e.年龄)+'岁 · '+(0,s.toDisplayString)(e.性别),1)]),(0,s.createElementVNode)('div',{class:(0,s.normalizeClass)(['status-badge',e.状态.toLowerCase()])},(0,s.toDisplayString)(e.状态),3)]),(0,s.createCommentVNode)(' 核心数值 '),(0,s.createElementVNode)('div',Je,[(0,s.createElementVNode)('div',Ue,[t[1]||(t[1]=(0,s.createElementVNode)('i',{class:'fa-solid fa-sword'},null,-1)),t[2]||(t[2]=(0,s.createElementVNode)('span',{class:'stat-label'},'武力',-1)),(0,s.createElementVNode)('span',We,(0,s.toDisplayString)(e.武力),1)]),(0,s.createElementVNode)('div',Ge,[t[3]||(t[3]=(0,s.createElementVNode)('i',{class:'fa-solid fa-briefcase'},null,-1)),t[4]||(t[4]=(0,s.createElementVNode)('span',{class:'stat-label'},'管理',-1)),(0,s.createElementVNode)('span',He,(0,s.toDisplayString)(e.管理),1)]),(0,s.createElementVNode)('div',Ye,[t[5]||(t[5]=(0,s.createElementVNode)('i',{class:'fa-solid fa-compass'},null,-1)),t[6]||(t[6]=(0,s.createElementVNode)('span',{class:'stat-label'},'探索',-1)),(0,s.createElementVNode)('span',Ze,(0,s.toDisplayString)(e.探索生存),1)])]),(0,s.createCommentVNode)(' 生存状态 '),(0,s.createElementVNode)('div',Ke,[(0,s.createElementVNode)('div',Qe,[(0,s.createElementVNode)('div',Xe,[t[7]||(t[7]=(0,s.createElementVNode)('span',{class:'survival-label'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-heart'}),(0,s.createTextVNode)(' 生命 ')],-1)),(0,s.createElementVNode)('div',et,[(0,s.createElementVNode)('div',{class:'hp-fill',style:(0,s.normalizeStyle)({width:`${e.生命值}%`})},null,4)]),(0,s.createElementVNode)('span',tt,(0,s.toDisplayString)(e.生命值),1)])]),(0,s.createElementVNode)('div',at,[(0,s.createElementVNode)('div',lt,[t[8]||(t[8]=(0,s.createElementVNode)('i',{class:'fa-solid fa-shield'},null,-1)),(0,s.createElementVNode)('span',null,'防护 '+(0,s.toDisplayString)(e.防护等级),1)]),(0,s.createElementVNode)('div',nt,[t[9]||(t[9]=(0,s.createElementVNode)('i',{class:'fa-solid fa-handshake'},null,-1)),(0,s.createElementVNode)('span',null,'忠诚 '+(0,s.toDisplayString)(e.忠诚度)+'%',1)])])]),(0,s.createCommentVNode)(' 装备栏 '),(0,s.createElementVNode)('div',rt,[t[13]||(t[13]=(0,s.createElementVNode)('div',{class:'equipment-title'},'装备栏',-1)),(0,s.createElementVNode)('div',ot,[(0,s.createElementVNode)('div',ct,[t[10]||(t[10]=(0,s.createElementVNode)('i',{class:'fa-solid fa-gun'},null,-1)),(0,s.createElementVNode)('span',{class:(0,s.normalizeClass)({empty:'空'===e.装备栏.武器位})},(0,s.toDisplayString)(e.装备栏.武器位),3)]),(0,s.createElementVNode)('div',st,[t[11]||(t[11]=(0,s.createElementVNode)('i',{class:'fa-solid fa-vest'},null,-1)),(0,s.createElementVNode)('span',{class:(0,s.normalizeClass)({empty:'空'===e.装备栏.防具位})},(0,s.toDisplayString)(e.装备栏.防具位),3)]),(0,s.createElementVNode)('div',it,[t[12]||(t[12]=(0,s.createElementVNode)('i',{class:'fa-solid fa-ring'},null,-1)),(0,s.createElementVNode)('span',{class:(0,s.normalizeClass)({empty:'空'===e.装备栏.饰品工具位})},(0,s.toDisplayString)(e.装备栏.饰品工具位),3)])])]),(0,s.createCommentVNode)(' 特质 '),Object.keys(e.特质).length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',dt,[(0,s.createElementVNode)('div',mt,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.特质,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('span',{key:t,class:'perk-tag',title:e.效果},(0,s.toDisplayString)(t),9,ut))),128))])])):(0,s.createCommentVNode)('v-if',!0),(0,s.createCommentVNode)(' 描述 '),e.描述?((0,s.openBlock)(),(0,s.createElementBlock)('div',pt,(0,s.toDisplayString)(e.描述),1)):(0,s.createCommentVNode)('v-if',!0)],2))),128))]))]))}}),vt=(0,N.A)(ft,[['__scopeId','data-v-de25be70']]),Vt={class:'overseer-panel'},Et={class:'section'},Nt={class:'overseer-header'},gt={class:'basic-info'},yt={class:'name'},kt={class:'location'},bt={class:'action-points'},ht={class:'ap-value'},Bt={class:'current'},zt={class:'max'},St={class:'ap-pips'},_t={class:'section'},wt={class:'special-grid'},Ct={class:'special-letter'},xt={class:'special-info'},Dt={class:'special-name'},Lt={class:'special-bar'},It={class:'luck-bonus'},jt={class:'section'},At={key:0,class:'empty-hint'},Tt={key:1,class:'perk-list'},Ot={class:'perk-info'},Ft={class:'perk-name'},Mt={class:'perk-effect'},Pt=(0,s.defineComponent)({__name:'OverseerPanel',setup(e){const t=se(),a=(0,s.computed)(()=>t.data),l={威慑力:{letter:'S',name:'威慑力 (Strength)',color:'#e53935'},洞察力:{letter:'P',name:'洞察力 (Perception)',color:'#8bc34a'},抗压值:{letter:'E',name:'抗压值 (Endurance)',color:'#ffd54f'},统御力:{letter:'C',name:'统御力 (Charisma)',color:'#ff9800'},科研力:{letter:'I',name:'科研力 (Intelligence)',color:'#4fc3f7'},反应力:{letter:'A',name:'反应力 (Agility)',color:'#9c27b0'},气运:{letter:'L',name:'气运 (Luck)',color:'#4caf50'}};return(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',Vt,[(0,s.createCommentVNode)(' 基本信息 '),(0,s.createElementVNode)('div',Et,[(0,s.createElementVNode)('div',Nt,[t[3]||(t[3]=(0,s.createElementVNode)('div',{class:'avatar'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-user-astronaut'})],-1)),(0,s.createElementVNode)('div',gt,[(0,s.createElementVNode)('div',yt,(0,s.toDisplayString)(a.value.监督者.姓名),1),(0,s.createElementVNode)('div',kt,[t[0]||(t[0]=(0,s.createElementVNode)('i',{class:'fa-solid fa-location-dot'},null,-1)),(0,s.createTextVNode)(' '+(0,s.toDisplayString)(a.value.监督者.当前位置),1)])]),(0,s.createElementVNode)('div',bt,[t[2]||(t[2]=(0,s.createElementVNode)('div',{class:'ap-label'},'行动点',-1)),(0,s.createElementVNode)('div',ht,[(0,s.createElementVNode)('span',Bt,(0,s.toDisplayString)(a.value.监督者.行动点数),1),t[1]||(t[1]=(0,s.createElementVNode)('span',{class:'separator'},'/',-1)),(0,s.createElementVNode)('span',zt,(0,s.toDisplayString)(a.value.监督者.行动点数上限),1)]),(0,s.createElementVNode)('div',St,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(a.value.监督者.行动点数上限,e=>((0,s.openBlock)(),(0,s.createElementBlock)('span',{key:e,class:(0,s.normalizeClass)(['pip',{filled:e<=a.value.监督者.行动点数}])},null,2))),128))])])])]),(0,s.createCommentVNode)(' S.P.E.C.I.A.L 属性 '),(0,s.createElementVNode)('div',_t,[t[5]||(t[5]=(0,s.createElementVNode)('h3',{class:'section-title'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-dna'}),(0,s.createTextVNode)(' S.P.E.C.I.A.L 属性 ')],-1)),(0,s.createElementVNode)('div',wt,[((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(l,(e,t)=>(0,s.createElementVNode)('div',{key:t,class:'special-item'},[(0,s.createElementVNode)('div',Ct,(0,s.toDisplayString)(e.letter),1),(0,s.createElementVNode)('div',xt,[(0,s.createElementVNode)('div',Dt,(0,s.toDisplayString)(e.name),1),(0,s.createElementVNode)('div',Lt,[(0,s.createElementVNode)('div',{class:'special-fill',style:(0,s.normalizeStyle)({width:a.value.监督者.SPECIAL[t]/10*100+'%',background:e.color})},null,4)])]),(0,s.createElementVNode)('div',{class:'special-value',style:(0,s.normalizeStyle)({color:e.color})},(0,s.toDisplayString)(a.value.监督者.SPECIAL[t]),5)])),64))]),(0,s.createElementVNode)('div',It,[t[4]||(t[4]=(0,s.createElementVNode)('i',{class:'fa-solid fa-clover'},null,-1)),(0,s.createTextVNode)(' 气运加成: +'+(0,s.toDisplayString)(Math.floor(.33*a.value.监督者.SPECIAL.气运))+'% 全域检定 ',1)])]),(0,s.createCommentVNode)(' 特质 '),(0,s.createElementVNode)('div',jt,[t[7]||(t[7]=(0,s.createElementVNode)('h3',{class:'section-title'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-certificate'}),(0,s.createTextVNode)(' 特质 (Perks) ')],-1)),0===Object.keys(a.value.监督者.特质).length?((0,s.openBlock)(),(0,s.createElementBlock)('div',At,'尚未获得任何特质')):((0,s.openBlock)(),(0,s.createElementBlock)('div',Tt,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(a.value.监督者.特质,(e,a)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:a,class:'perk-item'},[t[6]||(t[6]=(0,s.createElementVNode)('div',{class:'perk-icon'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-award'})],-1)),(0,s.createElementVNode)('div',Ot,[(0,s.createElementVNode)('div',Ft,(0,s.toDisplayString)(a),1),(0,s.createElementVNode)('div',Mt,(0,s.toDisplayString)(e.效果),1)])]))),128))]))])]))}}),$t=(0,N.A)(Pt,[['__scopeId','data-v-2604da2f']]),Rt={class:'policy-slider'},qt={class:'labels'},Jt={class:'label-left'},Ut={class:'label-right'},Wt={class:'slider-track'},Gt={class:'marker-value'},Ht={class:'extreme-indicators'},Yt={key:0,class:'extreme left'},Zt={key:1,class:'extreme right'},Kt=(0,s.defineComponent)({__name:'PolicySlider',props:{labelLeft:{},labelRight:{},value:{}},setup:e=>(t,a)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',Rt,[(0,s.createElementVNode)('div',qt,[(0,s.createElementVNode)('span',Jt,(0,s.toDisplayString)(e.labelLeft),1),(0,s.createElementVNode)('span',Ut,(0,s.toDisplayString)(e.labelRight),1)]),(0,s.createElementVNode)('div',Wt,[(0,s.createElementVNode)('div',{class:'slider-fill',style:(0,s.normalizeStyle)({width:`${e.value}%`})},null,4),(0,s.createElementVNode)('div',{class:'slider-marker',style:(0,s.normalizeStyle)({left:`${e.value}%`})},[(0,s.createElementVNode)('span',Gt,(0,s.toDisplayString)(e.value),1)],4)]),(0,s.createElementVNode)('div',Ht,[e.value<=10?((0,s.openBlock)(),(0,s.createElementBlock)('span',Yt,'极端')):(0,s.createCommentVNode)('v-if',!0),e.value>=90?((0,s.openBlock)(),(0,s.createElementBlock)('span',Zt,'极端')):(0,s.createCommentVNode)('v-if',!0)])]))}),Qt=(0,N.A)(Kt,[['__scopeId','data-v-5c4f0603']]),Xt={class:'progress-bar'},ea={class:'progress-value'},ta=(0,s.defineComponent)({__name:'ProgressBar',props:{value:{},color:{}},setup:e=>(t,a)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',Xt,[(0,s.createElementVNode)('div',{class:'progress-fill',style:(0,s.normalizeStyle)({width:`${e.value}%`,background:e.color})},[(0,s.createElementVNode)('span',ea,(0,s.toDisplayString)(e.value)+'%',1)],4)]))}),aa=(0,N.A)(ta,[['__scopeId','data-v-e4150a40']]),la={class:'resource-bar'},na={class:'resource-header'},ra={class:'resource-label'},oa={class:'resource-value'},ca={class:'bar-container'},sa=(0,s.defineComponent)({__name:'ResourceBar',props:{label:{},icon:{},current:{},max:{},color:{}},setup(e){const t=e,a=(0,s.computed)(()=>t.current/t.max*100);function l(){const e=a.value;return e<10?'#f44336':e<20?'#ff5722':e<30?'#ff9800':t.color}return(t,n)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',la,[(0,s.createElementVNode)('div',na,[(0,s.createElementVNode)('i',{class:(0,s.normalizeClass)(['fa-solid',e.icon]),style:(0,s.normalizeStyle)({color:e.color})},null,6),(0,s.createElementVNode)('span',ra,(0,s.toDisplayString)(e.label),1),(0,s.createElementVNode)('span',oa,(0,s.toDisplayString)(e.current)+' / '+(0,s.toDisplayString)(e.max),1)]),(0,s.createElementVNode)('div',ca,[(0,s.createElementVNode)('div',{class:'bar-fill',style:(0,s.normalizeStyle)({width:`${a.value}%`,background:l()})},null,4)])]))}}),ia=(0,N.A)(sa,[['__scopeId','data-v-d2532768']]),da={class:'shelter-status'},ma={class:'section'},ua={class:'resource-grid'},pa={class:'section'},fa={class:'indicator-grid'},va={class:'indicator'},Va={class:'indicator-value tech'},Ea={class:'indicator'},Na={class:'indicator'},ga={class:'section'},ya={class:'policy-grid'},ka={class:'section'},ba={class:'macro-grid'},ha={class:'macro-item'},Ba={class:'macro-value'},za={class:'macro-item'},Sa={class:'macro-value'},_a={class:'macro-item'},wa={class:'macro-value'},Ca={class:'macro-item secret'},xa={class:'macro-value'},Da={key:0,class:'hidden-purpose'},La=(0,s.defineComponent)({__name:'ShelterStatus',setup(e){const t=se(),a=(0,s.computed)(()=>t.data),l={电力:{label:'电力',icon:'fa-bolt',color:'#ffd700'},水源:{label:'水源',icon:'fa-droplet',color:'#4fc3f7'},食物:{label:'食物',icon:'fa-utensils',color:'#8bc34a'},人口:{label:'人口',icon:'fa-users',color:'#ff9800'}},n=[{key:'分配方法',leftLabel:'公平',rightLabel:'效率'},{key:'信息管控',leftLabel:'言论自由',rightLabel:'统一思想'},{key:'社会伦理',leftLabel:'人性',rightLabel:'生存'},{key:'治安手段',leftLabel:'重教化',rightLabel:'重刑罚'}];return(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',da,[(0,s.createCommentVNode)(' 基础生存资源 '),(0,s.createElementVNode)('div',ma,[t[0]||(t[0]=(0,s.createElementVNode)('h3',{class:'section-title'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-battery-half'}),(0,s.createTextVNode)(' 基础生存资源 ')],-1)),(0,s.createElementVNode)('div',ua,[((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(l,(e,t)=>(0,s.createVNode)(ia,{key:t,label:e.label,icon:e.icon,current:a.value.避难所.基础生存资源[t].当前值,max:a.value.避难所.基础生存资源[t].上限,color:e.color},null,8,['label','icon','current','max','color'])),64))])]),(0,s.createCommentVNode)(' 环境指标 '),(0,s.createElementVNode)('div',pa,[t[4]||(t[4]=(0,s.createElementVNode)('h3',{class:'section-title'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-chart-line'}),(0,s.createTextVNode)(' 环境指标 ')],-1)),(0,s.createElementVNode)('div',fa,[(0,s.createElementVNode)('div',va,[t[1]||(t[1]=(0,s.createElementVNode)('span',{class:'indicator-label'},'科技等级',-1)),(0,s.createElementVNode)('span',Va,(0,s.toDisplayString)(a.value.避难所.环境指标.科技等级),1)]),(0,s.createElementVNode)('div',Ea,[t[2]||(t[2]=(0,s.createElementVNode)('span',{class:'indicator-label'},'卫生度',-1)),(0,s.createVNode)(aa,{value:a.value.避难所.环境指标.卫生度,color:'#4a7c59'},null,8,['value'])]),(0,s.createElementVNode)('div',Na,[t[3]||(t[3]=(0,s.createElementVNode)('span',{class:'indicator-label'},'精神健康度',-1)),(0,s.createVNode)(aa,{value:a.value.避难所.环境指标.精神健康度,color:'#6a5acd'},null,8,['value'])])])]),(0,s.createCommentVNode)(' 社会制度滑块 '),(0,s.createElementVNode)('div',ga,[t[5]||(t[5]=(0,s.createElementVNode)('h3',{class:'section-title'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-scale-balanced'}),(0,s.createTextVNode)(' 社会制度 ')],-1)),(0,s.createElementVNode)('div',ya,[((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(n,e=>(0,s.createVNode)(Qt,{key:e.key,'label-left':e.leftLabel,'label-right':e.rightLabel,value:a.value.避难所.社会制度[e.key]},null,8,['label-left','label-right','value'])),64))])]),(0,s.createCommentVNode)(' 宏观属性 '),(0,s.createElementVNode)('div',ka,[t[15]||(t[15]=(0,s.createElementVNode)('h3',{class:'section-title'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-landmark'}),(0,s.createTextVNode)(' 宏观属性 ')],-1)),(0,s.createElementVNode)('div',ba,[(0,s.createElementVNode)('div',ha,[t[6]||(t[6]=(0,s.createElementVNode)('i',{class:'fa-solid fa-crown'},null,-1)),t[7]||(t[7]=(0,s.createElementVNode)('span',{class:'macro-label'},'统治力',-1)),(0,s.createElementVNode)('span',Ba,(0,s.toDisplayString)(a.value.避难所.宏观属性.统治力),1)]),(0,s.createElementVNode)('div',za,[t[8]||(t[8]=(0,s.createElementVNode)('i',{class:'fa-solid fa-shield-halved'},null,-1)),t[9]||(t[9]=(0,s.createElementVNode)('span',{class:'macro-label'},'防御等级',-1)),(0,s.createElementVNode)('span',Sa,(0,s.toDisplayString)(a.value.避难所.宏观属性.防御等级),1)]),(0,s.createElementVNode)('div',_a,[t[10]||(t[10]=(0,s.createElementVNode)('i',{class:'fa-solid fa-eye-slash'},null,-1)),t[11]||(t[11]=(0,s.createElementVNode)('span',{class:'macro-label'},'隐蔽度',-1)),(0,s.createElementVNode)('span',wa,(0,s.toDisplayString)(a.value.避难所.宏观属性.隐蔽度),1)]),(0,s.createElementVNode)('div',Ca,[t[12]||(t[12]=(0,s.createElementVNode)('i',{class:'fa-solid fa-flask'},null,-1)),t[13]||(t[13]=(0,s.createElementVNode)('span',{class:'macro-label'},'秘密实验',-1)),(0,s.createElementVNode)('span',xa,(0,s.toDisplayString)(a.value.避难所.宏观属性.秘密实验进度)+'%',1)])]),'无'!==a.value.避难所.宏观属性.隐藏目的?((0,s.openBlock)(),(0,s.createElementBlock)('div',Da,[t[14]||(t[14]=(0,s.createElementVNode)('i',{class:'fa-solid fa-user-secret'},null,-1)),(0,s.createTextVNode)(' 隐藏目的: '+(0,s.toDisplayString)(a.value.避难所.宏观属性.隐藏目的),1)])):(0,s.createCommentVNode)('v-if',!0)])]))}}),Ia=(0,N.A)(La,[['__scopeId','data-v-f2632f3a']]),ja={class:'social-system'},Aa={key:0,class:'empty-state'},Ta={key:1,class:'faction-list'},Oa={class:'faction-header'},Fa={class:'faction-name'},Ma={class:'faction-population'},Pa={class:'faction-body'},$a={class:'faction-ideology'},Ra={class:'faction-leader'},qa={class:'faction-relation'},Ja={class:'relation-header'},Ua={class:'relation-bar'},Wa={class:'relation-status'},Ga=(0,s.defineComponent)({__name:'SocialSystem',setup(e){const t=se(),a=(0,s.computed)(()=>t.data);function l(e){return e>=50?'excellent':e>=20?'good':e>=-20?'neutral':e>=-50?'poor':'hostile'}return(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',ja,[0===Object.keys(a.value.派系).length?((0,s.openBlock)(),(0,s.createElementBlock)('div',Aa,[...t[0]||(t[0]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-users-slash'},null,-1),(0,s.createElementVNode)('p',null,'暂无已知派系',-1)])])):((0,s.openBlock)(),(0,s.createElementBlock)('div',Ta,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(a.value.派系,(e,a)=>{return(0,s.openBlock)(),(0,s.createElementBlock)('div',{key:a,class:'faction-card'},[(0,s.createElementVNode)('div',Oa,[(0,s.createElementVNode)('span',Fa,(0,s.toDisplayString)(a),1),(0,s.createElementVNode)('span',Ma,[t[1]||(t[1]=(0,s.createElementVNode)('i',{class:'fa-solid fa-user'},null,-1)),(0,s.createTextVNode)(' '+(0,s.toDisplayString)(e.人数占比)+'% ',1)])]),(0,s.createElementVNode)('div',Pa,[(0,s.createElementVNode)('div',$a,[t[2]||(t[2]=(0,s.createElementVNode)('i',{class:'fa-solid fa-bullseye'},null,-1)),(0,s.createTextVNode)(' '+(0,s.toDisplayString)(e.宗旨),1)]),(0,s.createElementVNode)('div',Ra,[t[3]||(t[3]=(0,s.createElementVNode)('i',{class:'fa-solid fa-user-tie'},null,-1)),(0,s.createTextVNode)(' 领导人: '+(0,s.toDisplayString)(e.领导人),1)]),(0,s.createElementVNode)('div',qa,[(0,s.createElementVNode)('div',Ja,[t[4]||(t[4]=(0,s.createElementVNode)('span',null,'好感度',-1)),(0,s.createElementVNode)('span',{class:(0,s.normalizeClass)(['relation-value',l(e.好感度)])},(0,s.toDisplayString)(e.好感度>0?'+':'')+(0,s.toDisplayString)(e.好感度),3)]),(0,s.createElementVNode)('div',Ua,[(0,s.createElementVNode)('div',{class:'relation-fill',style:(0,s.normalizeStyle)((n=e.好感度,{width:(n+100)/2+'%',background:n>=50?'#4caf50':n>=20?'#8bc34a':n>=-20?'#9e9e9e':n>=-50?'#ff9800':'#f44336'}))},null,4),t[5]||(t[5]=(0,s.createElementVNode)('div',{class:'relation-center'},null,-1))]),(0,s.createElementVNode)('div',Wa,[(0,s.createElementVNode)('span',{class:(0,s.normalizeClass)(['status-tag',l(e.好感度)])},(0,s.toDisplayString)(e.观感),3)])])])]);var n}),128))]))]))}}),Ha=(0,N.A)(Ga,[['__scopeId','data-v-1628be75']]),Ya={class:'tab-nav'},Za=['onClick'],Ka={class:'tab-label'},Qa=(0,s.defineComponent)({__name:'TabNav',props:{modelValue:{},tabs:{}},emits:['update:modelValue'],setup(e){const t=e,a=(0,s.computed)(()=>[{id:'content',label:'正文',icon:'fa-book-open'},...t.tabs]);return(t,l)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',Ya,[(0,s.createCommentVNode)(' 标签按钮（包含正文） '),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(a.value,a=>((0,s.openBlock)(),(0,s.createElementBlock)('button',{key:a.id,class:(0,s.normalizeClass)(['tab-btn',{active:e.modelValue===a.id,'content-btn':'content'===a.id}]),onClick:e=>t.$emit('update:modelValue',a.id)},[(0,s.createElementVNode)('i',{class:(0,s.normalizeClass)(['fa-solid',a.icon])},null,2),(0,s.createElementVNode)('span',Ka,(0,s.toDisplayString)(a.label),1)],10,Za))),128))]))}}),Xa=(0,N.A)(Qa,[['__scopeId','data-v-55ec397f']]),el={key:0,class:'warning-bar'},tl={class:'warning-scroll'},al=(0,s.defineComponent)({__name:'WarningBar',setup(e){const t=se(),a=(0,s.computed)(()=>t.data),l=(0,s.computed)(()=>{const e=[],t=a.value.避难所.基础生存资源;t.电力.当前值/t.电力.上限<.1?e.push({type:'critical',icon:'fa-bolt',text:'电力严重不足！'}):t.电力.当前值/t.电力.上限<.2&&e.push({type:'warning',icon:'fa-bolt',text:'电力紧缺'}),t.水源.当前值/t.水源.上限<.1?e.push({type:'critical',icon:'fa-droplet',text:'水源严重不足！'}):t.水源.当前值/t.水源.上限<.2&&e.push({type:'warning',icon:'fa-droplet',text:'水源紧缺'}),t.食物.当前值/t.食物.上限<.1?e.push({type:'critical',icon:'fa-utensils',text:'食物严重不足！'}):t.食物.当前值/t.食物.上限<.2&&e.push({type:'warning',icon:'fa-utensils',text:'食物紧缺'}),t.人口.当前值>=t.人口.上限&&e.push({type:'warning',icon:'fa-users',text:'人口已达上限'});const l=a.value.避难所.环境指标;l.卫生度<20&&e.push({type:'warning',icon:'fa-virus',text:'卫生状况恶劣'}),l.精神健康度<20&&e.push({type:'warning',icon:'fa-brain',text:'士气低落'}),a.value.避难所.宏观属性.统治力<20&&e.push({type:'critical',icon:'fa-crown',text:'统治力过低，暴动风险！'});const n=a.value.避难所.社会制度;n.信息管控>=95&&e.push({type:'buff',icon:'fa-brain',text:'【蜂巢思维】生效'}),n.社会伦理>=95&&e.push({type:'buff',icon:'fa-snowflake',text:'【冷酷生存】生效'}),n.社会伦理<=5&&e.push({type:'buff',icon:'fa-dove',text:'【理想主义】生效'}),n.治安手段>=95&&e.push({type:'buff',icon:'fa-gavel',text:'【铁腕统治】生效'});for(const[,t]of Object.entries(a.value.追随者))'死亡'===t.状态?e.push({type:'info',icon:'fa-skull',text:`${t.姓名} 已死亡`}):'崩溃'===t.状态?e.push({type:'warning',icon:'fa-face-dizzy',text:`${t.姓名} 精神崩溃`}):'生病'===t.状态?e.push({type:'info',icon:'fa-virus',text:`${t.姓名} 生病中`}):t.忠诚度<20&&e.push({type:'warning',icon:'fa-heart-crack',text:`${t.姓名} 忠诚度过低`});for(const[t,l]of Object.entries(a.value.派系))l.好感度<=-80?e.push({type:'critical',icon:'fa-face-angry',text:`${t}派系敌对！`}):l.好感度<=-50&&e.push({type:'warning',icon:'fa-face-frown',text:`${t}派系不满`});return e}),n=(0,s.computed)(()=>l.value.length>0);return(e,t)=>n.value?((0,s.openBlock)(),(0,s.createElementBlock)('div',el,[(0,s.createElementVNode)('div',tl,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(l.value,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:t,class:(0,s.normalizeClass)(['warning-item',e.type])},[(0,s.createElementVNode)('i',{class:(0,s.normalizeClass)(['fa-solid',e.icon])},null,2),(0,s.createElementVNode)('span',null,(0,s.toDisplayString)(e.text),1)],2))),128))])])):(0,s.createCommentVNode)('v-if',!0)}}),ll=(0,N.A)(al,[['__scopeId','data-v-1ef56466']]),nl={class:'world-header'},rl={class:'header-left'},ol={class:'shelter-name'},cl={class:'disaster-info'},sl={class:'disaster-type'},il={class:'timeline'},dl={class:'header-right'},ml={class:'datetime'},ul={class:'date'},pl={class:'time'},fl=(0,s.defineComponent)({__name:'WorldHeader',setup(e){const t=se(),a=(0,s.computed)(()=>t.data);return(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',nl,[(0,s.createElementVNode)('div',rl,[(0,s.createElementVNode)('div',ol,[t[0]||(t[0]=(0,s.createElementVNode)('i',{class:'fa-solid fa-vault'},null,-1)),(0,s.createTextVNode)(' '+(0,s.toDisplayString)(a.value.避难所.避难所名称),1)]),(0,s.createElementVNode)('div',cl,[(0,s.createElementVNode)('span',sl,(0,s.toDisplayString)(a.value.世界.灾难本质),1),(0,s.createElementVNode)('span',il,(0,s.toDisplayString)(a.value.世界.时间线节点),1)])]),(0,s.createElementVNode)('div',dl,[(0,s.createElementVNode)('div',ml,[(0,s.createElementVNode)('div',ul,[t[1]||(t[1]=(0,s.createElementVNode)('i',{class:'fa-regular fa-calendar'},null,-1)),(0,s.createTextVNode)(' '+(0,s.toDisplayString)(a.value.世界.当前日期),1)]),(0,s.createElementVNode)('div',pl,[t[2]||(t[2]=(0,s.createElementVNode)('i',{class:'fa-regular fa-clock'},null,-1)),(0,s.createTextVNode)(' '+(0,s.toDisplayString)(a.value.世界.当前时间),1)])])])]))}}),vl=(0,N.A)(fl,[['__scopeId','data-v-52aadabd']]);const Vl=k?window:void 0;k&&window.document,k&&window.navigator,k&&window.location;function El(e){var t;const a=(0,s.toValue)(e);return null!=(t=null==a?void 0:a.$el)?t:a}function Nl(...e){const t=[],a=()=>{t.forEach(e=>e()),t.length=0},l=(0,s.computed)(()=>{const t=x((0,s.toValue)(e[0])).filter(e=>null!=e);return t.every(e=>'string'!=typeof e)?t:void 0}),n=(r=()=>{var t,a;return[null!=(a=null==(t=l.value)?void 0:t.map(e=>El(e)))?a:[Vl].filter(e=>null!=e),x((0,s.toValue)(l.value?e[1]:e[0])),x((0,s.unref)(l.value?e[2]:e[1])),(0,s.toValue)(l.value?e[3]:e[2])]},o=([e,l,n,r])=>{if(a(),!(null==e?void 0:e.length)||!(null==l?void 0:l.length)||!(null==n?void 0:n.length))return;const o=h(r)?{...r}:r;t.push(...e.flatMap(e=>l.flatMap(t=>n.map(a=>((e,t,a,l)=>(e.addEventListener(t,a,l),()=>e.removeEventListener(t,a,l)))(e,t,a,o)))))},c={flush:'post'},(0,s.watch)(r,o,{...c,immediate:!0}));var r,o,c;return y(a),()=>{n(),a()}}Symbol('vueuse-ssr-width');const gl='undefined'!=typeof globalThis?globalThis:'undefined'!=typeof window?window:'undefined'!=typeof globalThis?globalThis:'undefined'!=typeof self?self:{},yl='__vueuse_ssr_handlers__',kl=bl();function bl(){return yl in gl||(gl[yl]=gl[yl]||{}),gl[yl]}function hl(e,t){return kl[e]||t}function Bl(e){return null==e?'any':e instanceof Set?'set':e instanceof Map?'map':e instanceof Date?'date':'boolean'==typeof e?'boolean':'string'==typeof e?'string':'object'==typeof e?'object':Number.isNaN(e)?'any':'number'}const zl={boolean:{read:e=>'true'===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Sl='vueuse-storage';function _l(e,t,a,l={}){var n;const{flush:r='pre',deep:o=!0,listenToStorageChanges:c=!0,writeDefaults:i=!0,mergeDefaults:d=!1,shallow:m,window:u=Vl,eventFilter:p,onError:f=e=>{console.error(e)},initOnMounted:v}=l,V=(m?s.shallowRef:s.ref)('function'==typeof t?t():t),E=(0,s.computed)(()=>(0,s.toValue)(e));if(!a)try{a=hl('getDefaultStorage',()=>{var e;return null==(e=Vl)?void 0:e.localStorage})()}catch(e){f(e)}if(!a)return V;const N=(0,s.toValue)(t),g=Bl(N),y=null!=(n=l.serializer)?n:zl[g],{pause:k,resume:b}=T(V,e=>function(e){try{const t=a.getItem(E.value);if(null==e)S(t,null),a.removeItem(E.value);else{const l=y.write(e);t!==l&&(a.setItem(E.value,l),S(t,l))}}catch(e){f(e)}}(e),{flush:r,deep:o,eventFilter:p});(0,s.watch)(E,()=>w(),{flush:r});let h=!1;const B=e=>{v&&!h||w(e.detail)};function S(e,t){if(u){const l={key:E.value,oldValue:e,newValue:t,storageArea:a};u.dispatchEvent(a instanceof Storage?new StorageEvent('storage',l):new CustomEvent(Sl,{detail:l}))}}function w(e){if(!e||e.storageArea===a)if(e&&null==e.key)V.value=N;else if(!e||e.key===E.value){k();try{const t=y.write(V.value);void 0!==e&&(null==e?void 0:e.newValue)===t||(V.value=function(e){const t=e?e.newValue:a.getItem(E.value);if(null==t)return i&&null!=N&&a.setItem(E.value,y.write(N)),N;if(!e&&d){const e=y.read(t);return'function'==typeof d?d(e,N):'object'!==g||Array.isArray(e)?e:{...N,...e}}return'string'!=typeof t?t:y.read(t)}(e))}catch(e){f(e)}finally{e?(0,s.nextTick)(b):b()}}}return u&&c&&(a instanceof Storage?Nl(u,'storage',e=>{v&&!h||w(e)},{passive:!0}):Nl(u,Sl,B)),v?function(e,t=!0,a){j(a)?(0,s.onMounted)(e,a):t?e():(0,s.nextTick)(e)}(()=>{h=!0,w()}):w(),V}Number.POSITIVE_INFINITY;const wl={class:'shelter-panel'},Cl=(0,s.defineComponent)({__name:'App',setup(e){const t=[{id:'shelter',label:'避难所',icon:'fa-house'},{id:'social',label:'派系',icon:'fa-users'},{id:'facility',label:'设施',icon:'fa-industry'},{id:'overseer',label:'监督者',icon:'fa-user-tie'},{id:'follower',label:'追随者',icon:'fa-user-group'}],a=function(e,t,a={}){const{window:l=Vl}=a;return _l(e,t,null==l?void 0:l.localStorage,a)}('shelter_status:active_tab','shelter');return(e,l)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',wl,[(0,s.createCommentVNode)(' 顶部：世界环境信息（仅非正文标签时显示） '),'content'!==(0,s.unref)(a)?((0,s.openBlock)(),(0,s.createBlock)(vl,{key:0})):(0,s.createCommentVNode)('v-if',!0),(0,s.createCommentVNode)(' 标签导航 '),(0,s.createVNode)(Xa,{modelValue:(0,s.unref)(a),'onUpdate:modelValue':l[0]||(l[0]=e=>(0,s.isRef)(a)?a.value=e:null),tabs:t},null,8,['modelValue']),(0,s.createCommentVNode)(' 内容区域 '),(0,s.createElementVNode)('div',{class:(0,s.normalizeClass)(['content-area',{'content-tab':'content'===(0,s.unref)(a)}])},['content'===(0,s.unref)(a)?((0,s.openBlock)(),(0,s.createBlock)(g,{key:0})):'shelter'===(0,s.unref)(a)?((0,s.openBlock)(),(0,s.createBlock)(Ia,{key:1})):'social'===(0,s.unref)(a)?((0,s.openBlock)(),(0,s.createBlock)(Ha,{key:2})):'facility'===(0,s.unref)(a)?((0,s.openBlock)(),(0,s.createBlock)(Ae,{key:3})):'overseer'===(0,s.unref)(a)?((0,s.openBlock)(),(0,s.createBlock)($t,{key:4})):'follower'===(0,s.unref)(a)?((0,s.openBlock)(),(0,s.createBlock)(vt,{key:5})):(0,s.createCommentVNode)('v-if',!0)],2),(0,s.createCommentVNode)(' 底部警告栏（仅非正文标签时显示） '),'content'!==(0,s.unref)(a)?((0,s.openBlock)(),(0,s.createBlock)(ll,{key:1})):(0,s.createCommentVNode)('v-if',!0)]))}}),xl=(0,N.A)(Cl,[['__scopeId','data-v-4cc82107']]);$(async()=>{await waitGlobalInitialized('Mvu'),await e(()=>c().has(getVariables({type:'message'}),'stat_data')),(0,s.createApp)(xl).use(t()).mount('#app')});
//# sourceMappingURL=index.js.map</script><style>.content-panel[data-v-536cd44c]{height:932px;overflow-y:auto;padding:16px;background:rgba(0,0,0,.1)}.content-panel[data-v-536cd44c]::-webkit-scrollbar{width:6px}.content-panel[data-v-536cd44c]::-webkit-scrollbar-thumb{background:#4a4a4a;border-radius:3px}.content-panel[data-v-536cd44c]::-webkit-scrollbar-track{background:rgba(0,0,0,.2)}.content-text[data-v-536cd44c]{color:#d0d0d0;font-size:14px;line-height:1.8;white-space:pre-wrap;word-break:break-word}.no-content[data-v-536cd44c]{height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:#888}.no-content i[data-v-536cd44c]{font-size:48px;margin-bottom:16px;opacity:.5}.no-content p[data-v-536cd44c]{margin:8px 0;font-size:14px}.no-content .hint[data-v-536cd44c]{font-size:12px;color:#666}.options-section[data-v-536cd44c]{margin-top:24px;padding-top:20px;border-top:1px solid hsla(0,0%,100%,.1)}.options-title[data-v-536cd44c]{display:flex;align-items:center;gap:8px;margin-bottom:16px;color:#f0c040;font-size:14px;font-weight:600}.options-title i[data-v-536cd44c]{font-size:16px}.options-grid[data-v-536cd44c]{display:flex;flex-direction:column;gap:10px}.option-button[data-v-536cd44c]{display:flex;align-items:flex-start;gap:12px;padding:12px 16px;background:linear-gradient(135deg,rgba(60,60,80,0.8) 0%,rgba(40,40,60,0.9) 100%);border:1px solid rgba(100,100,140,.3);border-radius:8px;color:#d0d0d0;text-align:left;cursor:pointer;transition:all .2s ease}.option-button[data-v-536cd44c]:hover{background:linear-gradient(135deg,rgba(80,80,110,0.9) 0%,rgba(60,60,90,0.95) 100%);border-color:rgba(140,140,180,.5);transform:translateX(4px);box-shadow:0 2px 8px rgba(0,0,0,.3)}.option-button[data-v-536cd44c]:active{transform:translateX(2px);background:linear-gradient(135deg,rgba(100,100,130,0.9) 0%,rgba(70,70,100,0.95) 100%)}.option-number[data-v-536cd44c]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:rgba(240,192,64,.2);border:1px solid rgba(240,192,64,.4);border-radius:50%;color:#f0c040;font-size:12px;font-weight:700;flex-shrink:0}.option-text[data-v-536cd44c]{flex:1;font-size:14px;line-height:1.5}
.facility-inventory[data-v-7cec1cfc]{display:flex;flex-direction:column;gap:16px}.section[data-v-7cec1cfc]{background:rgba(0,0,0,.3);border-radius:6px;padding:12px;border:1px solid #3a3a3a}.section-title[data-v-7cec1cfc]{margin:0 0 12px 0;font-size:14px;font-weight:600;color:#d4a84b;display:flex;align-items:center;gap:8px}.section-title i[data-v-7cec1cfc]{font-size:14px}.section-title .item-count[data-v-7cec1cfc]{font-size:11px;font-weight:normal;color:#888;margin-left:auto}.empty-hint[data-v-7cec1cfc]{text-align:center;padding:20px;color:#666;font-size:12px;font-style:italic}.facility-grid[data-v-7cec1cfc]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:10px}.facility-card[data-v-7cec1cfc]{background:hsla(0,0%,100%,.05);border-radius:4px;overflow:hidden;border:1px solid #444;transition:border-color .2s}.facility-card[data-v-7cec1cfc]:hover{border-color:#666}.facility-card.损坏[data-v-7cec1cfc]{border-color:#8b3a3a;background:rgba(139,58,58,.1)}.facility-card.停用[data-v-7cec1cfc]{opacity:.6}.facility-card.升级中[data-v-7cec1cfc]{border-color:#4fc3f7}.facility-header[data-v-7cec1cfc]{display:flex;justify-content:space-between;align-items:center;padding:8px 10px;background:rgba(0,0,0,.3)}.facility-name[data-v-7cec1cfc]{font-size:12px;font-weight:600;color:#e0e0e0}.status-badge[data-v-7cec1cfc]{font-size:9px;padding:2px 6px;border-radius:3px}.status-badge.正常[data-v-7cec1cfc]{background:rgba(76,175,80,.2);color:#4caf50}.status-badge.损坏[data-v-7cec1cfc]{background:rgba(244,67,54,.2);color:#f44336}.status-badge.停用[data-v-7cec1cfc]{background:rgba(158,158,158,.2);color:#9e9e9e}.status-badge.升级中[data-v-7cec1cfc]{background:rgba(79,195,247,.2);color:#4fc3f7}.facility-body[data-v-7cec1cfc]{padding:8px 10px}.facility-level[data-v-7cec1cfc]{font-size:11px;color:gold;margin-bottom:4px}.facility-level i[data-v-7cec1cfc]{margin-right:4px}.facility-effect[data-v-7cec1cfc]{font-size:11px;color:#8bc34a;margin-bottom:4px}.facility-desc[data-v-7cec1cfc]{font-size:10px;color:#888;font-style:italic}.inventory-list[data-v-7cec1cfc]{display:flex;flex-direction:column;gap:12px}.item-group .group-title[data-v-7cec1cfc]{margin:0 0 8px 0;font-size:12px;font-weight:500;color:#a0a0a0;padding-bottom:4px;border-bottom:1px solid #333}.item-grid[data-v-7cec1cfc]{display:flex;flex-direction:column;gap:6px}.item-card[data-v-7cec1cfc]{display:flex;align-items:center;gap:10px;padding:8px;background:hsla(0,0%,100%,.03);border-radius:4px;border:1px solid #333}.item-card[data-v-7cec1cfc]:hover{background:hsla(0,0%,100%,.06)}.item-icon[data-v-7cec1cfc]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.3);border-radius:4px}.item-icon i[data-v-7cec1cfc]{font-size:14px;color:#d4a84b}.item-info[data-v-7cec1cfc]{flex:1;min-width:0}.item-name[data-v-7cec1cfc]{font-size:12px;font-weight:500;color:#e0e0e0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.item-effect[data-v-7cec1cfc]{font-size:10px;color:#888}.item-quantity[data-v-7cec1cfc]{font-size:14px;font-weight:600;color:gold;padding:4px 8px;background:rgba(255,215,0,.1);border-radius:4px}
.follower-system[data-v-de25be70]{display:flex;flex-direction:column;gap:12px}.empty-state[data-v-de25be70]{text-align:center;padding:40px 20px;color:#666}.empty-state i[data-v-de25be70]{font-size:48px;margin-bottom:12px;opacity:.5}.empty-state p[data-v-de25be70]{margin:0;font-size:14px}.follower-list[data-v-de25be70]{display:flex;flex-direction:column;gap:12px}.follower-card[data-v-de25be70]{background:rgba(0,0,0,.3);border-radius:6px;border:1px solid #3a3a3a;overflow:hidden}.follower-card.dead[data-v-de25be70]{opacity:.5;filter:grayscale(80%)}.follower-header[data-v-de25be70]{display:flex;align-items:center;gap:12px;padding:12px;background:rgba(0,0,0,.3);border-bottom:1px solid #333}.avatar[data-v-de25be70]{width:40px;height:40px;background:linear-gradient(135deg,#2d5a7e 0%,#1a4a6e 100%);border-radius:50%;display:flex;align-items:center;justify-content:center}.avatar i[data-v-de25be70]{font-size:18px;color:#d4a84b}.basic-info[data-v-de25be70]{flex:1}.name[data-v-de25be70]{font-size:14px;font-weight:600;color:#e0e0e0}.meta[data-v-de25be70]{font-size:11px;color:#888}.status-badge[data-v-de25be70]{font-size:10px;padding:4px 10px;border-radius:12px;font-weight:500}.status-badge.健康[data-v-de25be70]{background:rgba(76,175,80,.2);color:#4caf50}.status-badge.生病[data-v-de25be70]{background:rgba(255,152,0,.2);color:#ff9800}.status-badge.崩溃[data-v-de25be70]{background:rgba(156,39,176,.2);color:#9c27b0}.status-badge.死亡[data-v-de25be70]{background:rgba(244,67,54,.2);color:#f44336}.stats-section[data-v-de25be70]{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;padding:12px;border-bottom:1px solid #333}.stat-item[data-v-de25be70]{display:flex;flex-direction:column;align-items:center;gap:2px}.stat-item i[data-v-de25be70]{font-size:14px;color:#d4a84b}.stat-label[data-v-de25be70]{font-size:10px;color:#888}.stat-value[data-v-de25be70]{font-size:16px;font-weight:bold;color:#e0e0e0}.survival-section[data-v-de25be70]{padding:12px;border-bottom:1px solid #333}.survival-row[data-v-de25be70]{margin-bottom:8px}.survival-item[data-v-de25be70]{display:flex;align-items:center;gap:8px}.survival-label[data-v-de25be70]{font-size:11px;color:#888;min-width:50px}.survival-label i[data-v-de25be70]{margin-right:4px;color:#e53935}.hp-bar[data-v-de25be70]{flex:1;height:8px;background:#333;border-radius:4px;overflow:hidden}.hp-fill[data-v-de25be70]{height:100%;background:linear-gradient(90deg,#e53935 0%,#4caf50 100%);transition:width .3s ease}.survival-value[data-v-de25be70]{font-size:12px;font-weight:600;color:#e0e0e0;min-width:30px;text-align:right}.survival-row-inline[data-v-de25be70]{display:flex;justify-content:space-around}.mini-stat[data-v-de25be70]{display:flex;align-items:center;gap:6px;font-size:11px;color:#a0a0a0}.mini-stat i[data-v-de25be70]{color:#4fc3f7}.equipment-section[data-v-de25be70]{padding:12px;border-bottom:1px solid #333}.equipment-title[data-v-de25be70]{font-size:11px;color:#888;margin-bottom:8px}.equipment-slots[data-v-de25be70]{display:flex;flex-direction:column;gap:6px}.slot[data-v-de25be70]{display:flex;align-items:center;gap:8px;padding:6px 8px;background:hsla(0,0%,100%,.03);border-radius:4px;font-size:11px}.slot i[data-v-de25be70]{width:16px;text-align:center;color:#888}.slot span[data-v-de25be70]{color:silver}.slot span.empty[data-v-de25be70]{color:#555;font-style:italic}.perks-section[data-v-de25be70]{padding:12px;border-bottom:1px solid #333}.perk-list[data-v-de25be70]{display:flex;flex-wrap:wrap;gap:6px}.perk-tag[data-v-de25be70]{font-size:10px;padding:3px 8px;background:rgba(212,168,75,.15);border:1px solid rgba(212,168,75,.3);border-radius:12px;color:#d4a84b;cursor:help}.description[data-v-de25be70]{padding:12px;font-size:11px;color:#888;font-style:italic;line-height:1.4}
.overseer-panel[data-v-2604da2f]{display:flex;flex-direction:column;gap:16px}.section[data-v-2604da2f]{background:rgba(0,0,0,.3);border-radius:6px;padding:12px;border:1px solid #3a3a3a}.section-title[data-v-2604da2f]{margin:0 0 12px 0;font-size:14px;font-weight:600;color:#d4a84b;display:flex;align-items:center;gap:8px}.section-title i[data-v-2604da2f]{font-size:14px}.overseer-header[data-v-2604da2f]{display:flex;align-items:center;gap:16px}.avatar[data-v-2604da2f]{width:60px;height:60px;background:linear-gradient(135deg,#1a4a6e 0%,#2d5a7e 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;border:3px solid #d4a84b}.avatar i[data-v-2604da2f]{font-size:28px;color:#d4a84b}.basic-info[data-v-2604da2f]{flex:1}.name[data-v-2604da2f]{font-size:20px;font-weight:bold;color:#e0e0e0;margin-bottom:4px}.location[data-v-2604da2f]{font-size:12px;color:#888}.location i[data-v-2604da2f]{margin-right:4px;color:#4fc3f7}.action-points[data-v-2604da2f]{text-align:center;padding:8px 16px;background:rgba(212,168,75,.1);border-radius:6px;border:1px solid #d4a84b}.ap-label[data-v-2604da2f]{font-size:10px;color:#888;text-transform:uppercase;letter-spacing:1px}.ap-value[data-v-2604da2f]{font-size:20px;font-weight:bold;margin:2px 0}.ap-value .current[data-v-2604da2f]{color:gold}.ap-value .separator[data-v-2604da2f]{color:#666;margin:0 2px}.ap-value .max[data-v-2604da2f]{color:#888}.ap-pips[data-v-2604da2f]{display:flex;justify-content:center;gap:4px}.pip[data-v-2604da2f]{width:12px;height:12px;border-radius:50%;background:#333;border:2px solid #555}.pip.filled[data-v-2604da2f]{background:gold;border-color:#ffa000;box-shadow:0 0 6px rgba(255,215,0,.5)}.special-grid[data-v-2604da2f]{display:flex;flex-direction:column;gap:8px}.special-item[data-v-2604da2f]{display:flex;align-items:center;gap:12px}.special-letter[data-v-2604da2f]{width:28px;height:28px;display:flex;align-items:center;justify-content:center;background:#2a2a2a;border-radius:4px;font-size:14px;font-weight:bold;color:#d4a84b;border:1px solid #444}.special-info[data-v-2604da2f]{flex:1}.special-name[data-v-2604da2f]{font-size:11px;color:#888;margin-bottom:2px}.special-bar[data-v-2604da2f]{height:6px;background:#2a2a2a;border-radius:3px;overflow:hidden}.special-fill[data-v-2604da2f]{height:100%;transition:width .3s ease}.special-value[data-v-2604da2f]{width:24px;text-align:right;font-size:16px;font-weight:bold}.luck-bonus[data-v-2604da2f]{margin-top:12px;padding:8px;background:rgba(76,175,80,.1);border-radius:4px;font-size:12px;color:#4caf50;text-align:center}.luck-bonus i[data-v-2604da2f]{margin-right:6px}.empty-hint[data-v-2604da2f]{text-align:center;padding:20px;color:#666;font-size:12px;font-style:italic}.perk-list[data-v-2604da2f]{display:flex;flex-direction:column;gap:8px}.perk-item[data-v-2604da2f]{display:flex;align-items:center;gap:10px;padding:8px;background:hsla(0,0%,100%,.03);border-radius:4px;border:1px solid #333}.perk-icon[data-v-2604da2f]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:rgba(212,168,75,.2);border-radius:50%}.perk-icon i[data-v-2604da2f]{font-size:14px;color:#d4a84b}.perk-info[data-v-2604da2f]{flex:1}.perk-name[data-v-2604da2f]{font-size:12px;font-weight:600;color:#e0e0e0}.perk-effect[data-v-2604da2f]{font-size:10px;color:#888}
.policy-slider[data-v-5c4f0603]{padding:4px 0}.labels[data-v-5c4f0603]{display:flex;justify-content:space-between;margin-bottom:4px}.label-left[data-v-5c4f0603],.label-right[data-v-5c4f0603]{font-size:11px;color:#a0a0a0}.label-left[data-v-5c4f0603]{color:#4fc3f7}.label-right[data-v-5c4f0603]{color:#ff6b35}.slider-track[data-v-5c4f0603]{height:8px;background:linear-gradient(90deg,#4fc3f7 0%,#4a4a4a 50%,#ff6b35 100%);border-radius:4px;position:relative}.slider-fill[data-v-5c4f0603]{height:100%;background:hsla(0,0%,100%,.2);border-radius:4px 0 0 4px}.slider-marker[data-v-5c4f0603]{position:absolute;top:50%;transform:translate(-50%,-50%);width:16px;height:16px;background:#fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.3),0 0 0 2px #d4a84b;display:flex;align-items:center;justify-content:center}.marker-value[data-v-5c4f0603]{font-size:8px;font-weight:bold;color:#333}.extreme-indicators[data-v-5c4f0603]{display:flex;justify-content:space-between;margin-top:2px;min-height:14px}.extreme[data-v-5c4f0603]{font-size:9px;font-weight:bold;padding:1px 4px;border-radius:2px;animation:pulse-5c4f0603 1.5s infinite}.extreme.left[data-v-5c4f0603]{color:#4fc3f7;background:rgba(79,195,247,.2)}.extreme.right[data-v-5c4f0603]{color:#ff6b35;background:rgba(255,107,53,.2)}@keyframes pulse-5c4f0603{0%,100%{opacity:1}50%{opacity:.5}}
.progress-bar[data-v-e4150a40]{flex:1;height:18px;background:rgba(0,0,0,.4);border-radius:9px;overflow:hidden;border:1px solid #3a3a3a}.progress-fill[data-v-e4150a40]{height:100%;display:flex;align-items:center;justify-content:flex-end;padding-right:8px;transition:width .3s ease;min-width:40px}.progress-value[data-v-e4150a40]{font-size:10px;font-weight:600;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.5)}
.resource-bar[data-v-d2532768]{background:rgba(0,0,0,.2);border-radius:4px;padding:8px;border:1px solid #333}.resource-header[data-v-d2532768]{display:flex;align-items:center;gap:6px;margin-bottom:6px}.resource-header i[data-v-d2532768]{font-size:12px}.resource-label[data-v-d2532768]{font-size:11px;color:#a0a0a0;flex:1}.resource-value[data-v-d2532768]{font-size:11px;font-weight:600;color:#e0e0e0}.bar-container[data-v-d2532768]{height:8px;background:#1a1a1a;border-radius:4px;overflow:hidden}.bar-fill[data-v-d2532768]{height:100%;border-radius:4px;transition:width .3s ease,background .3s ease;box-shadow:0 0 8px currentColor}
.shelter-status[data-v-f2632f3a]{display:flex;flex-direction:column;gap:16px}.section[data-v-f2632f3a]{background:rgba(0,0,0,.3);border-radius:6px;padding:12px;border:1px solid #3a3a3a}.section-title[data-v-f2632f3a]{margin:0 0 12px 0;font-size:14px;font-weight:600;color:#d4a84b;display:flex;align-items:center;gap:8px}.section-title i[data-v-f2632f3a]{font-size:14px}.resource-grid[data-v-f2632f3a]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}.indicator-grid[data-v-f2632f3a]{display:flex;flex-direction:column;gap:8px}.indicator[data-v-f2632f3a]{display:flex;align-items:center;justify-content:space-between;gap:12px}.indicator-label[data-v-f2632f3a]{font-size:12px;color:#a0a0a0;min-width:80px}.indicator-value[data-v-f2632f3a]{font-size:12px;font-weight:500}.indicator-value.tech[data-v-f2632f3a]{color:#4fc3f7;background:rgba(79,195,247,.1);padding:2px 8px;border-radius:4px}.policy-grid[data-v-f2632f3a]{display:flex;flex-direction:column;gap:10px}.macro-grid[data-v-f2632f3a]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}.macro-item[data-v-f2632f3a]{display:flex;align-items:center;gap:8px;padding:8px;background:hsla(0,0%,100%,.05);border-radius:4px}.macro-item i[data-v-f2632f3a]{font-size:14px;color:#d4a84b;width:20px;text-align:center}.macro-item.secret i[data-v-f2632f3a]{color:#8b3a3a}.macro-label[data-v-f2632f3a]{font-size:11px;color:#a0a0a0;flex:1}.macro-value[data-v-f2632f3a]{font-size:14px;font-weight:bold;color:#e0e0e0}.hidden-purpose[data-v-f2632f3a]{margin-top:10px;padding:8px;background:rgba(139,58,58,.2);border:1px solid #8b3a3a;border-radius:4px;font-size:12px;color:#ff6b6b}.hidden-purpose i[data-v-f2632f3a]{margin-right:6px}
.social-system[data-v-1628be75]{display:flex;flex-direction:column;gap:12px}.empty-state[data-v-1628be75]{text-align:center;padding:40px 20px;color:#666}.empty-state i[data-v-1628be75]{font-size:48px;margin-bottom:12px;opacity:.5}.empty-state p[data-v-1628be75]{margin:0;font-size:14px}.faction-list[data-v-1628be75]{display:flex;flex-direction:column;gap:12px}.faction-card[data-v-1628be75]{background:rgba(0,0,0,.3);border-radius:6px;border:1px solid #3a3a3a;overflow:hidden}.faction-header[data-v-1628be75]{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;background:rgba(212,168,75,.15);border-bottom:1px solid #3a3a3a}.faction-name[data-v-1628be75]{font-size:14px;font-weight:600;color:#d4a84b}.faction-population[data-v-1628be75]{font-size:12px;color:#a0a0a0}.faction-population i[data-v-1628be75]{margin-right:4px}.faction-body[data-v-1628be75]{padding:12px;display:flex;flex-direction:column;gap:8px}.faction-ideology[data-v-1628be75],.faction-leader[data-v-1628be75]{font-size:12px;color:silver}.faction-ideology i[data-v-1628be75],.faction-leader i[data-v-1628be75]{width:16px;margin-right:6px;color:#a0a0a0}.faction-relation[data-v-1628be75]{margin-top:4px;padding-top:8px;border-top:1px solid #333}.relation-header[data-v-1628be75]{display:flex;justify-content:space-between;font-size:11px;margin-bottom:4px}.relation-header span[data-v-1628be75]:first-child{color:#888}.relation-value[data-v-1628be75]{font-weight:600}.relation-value.excellent[data-v-1628be75]{color:#4caf50}.relation-value.good[data-v-1628be75]{color:#8bc34a}.relation-value.neutral[data-v-1628be75]{color:#9e9e9e}.relation-value.poor[data-v-1628be75]{color:#ff9800}.relation-value.hostile[data-v-1628be75]{color:#f44336}.relation-bar[data-v-1628be75]{height:6px;background:rgba(0,0,0,.4);border-radius:3px;position:relative;overflow:hidden}.relation-fill[data-v-1628be75]{height:100%;transition:width .3s ease}.relation-center[data-v-1628be75]{position:absolute;top:0;left:50%;width:2px;height:100%;background:#666;transform:translateX(-50%)}.relation-status[data-v-1628be75]{margin-top:6px;text-align:right}.status-tag[data-v-1628be75]{font-size:10px;padding:2px 8px;border-radius:10px;font-weight:500}.status-tag.excellent[data-v-1628be75]{background:rgba(76,175,80,.2);color:#4caf50}.status-tag.good[data-v-1628be75]{background:rgba(139,195,74,.2);color:#8bc34a}.status-tag.neutral[data-v-1628be75]{background:rgba(158,158,158,.2);color:#9e9e9e}.status-tag.poor[data-v-1628be75]{background:rgba(255,152,0,.2);color:#ff9800}.status-tag.hostile[data-v-1628be75]{background:rgba(244,67,54,.2);color:#f44336}
.tab-nav[data-v-55ec397f]{display:flex;background:#2a2a2a;border-bottom:1px solid #4a4a4a;overflow-x:auto}.tab-nav[data-v-55ec397f]::-webkit-scrollbar{height:3px}.tab-nav[data-v-55ec397f]::-webkit-scrollbar-thumb{background:#4a4a4a}.tab-btn[data-v-55ec397f]{flex:1;min-width:80px;padding:10px 12px;background:rgba(0,0,0,0);border:none;color:#a0a0a0;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:4px;transition:all .2s ease;border-bottom:2px solid rgba(0,0,0,0)}.tab-btn[data-v-55ec397f]:hover{background:hsla(0,0%,100%,.05);color:#d0d0d0}.tab-btn.active[data-v-55ec397f]{color:#d4a84b;border-bottom-color:#d4a84b;background:rgba(212,168,75,.1)}.tab-btn.content-btn[data-v-55ec397f]{border-right:1px solid #3a3a3a}.tab-btn.content-btn.active[data-v-55ec397f]{color:#5a9de0;border-bottom-color:#5a9de0;background:rgba(90,157,224,.1)}.tab-btn.content-btn[data-v-55ec397f]:not(.active):hover{color:#7ab5f0;background:rgba(90,157,224,.05)}.tab-btn i[data-v-55ec397f]{font-size:16px}.tab-btn .tab-label[data-v-55ec397f]{font-size:11px;font-weight:500}
.warning-bar[data-v-1ef56466]{background:linear-gradient(90deg,#2a1a1a 0%,#1a1a2a 100%);border-top:1px solid #4a4a4a;padding:8px 12px;overflow-x:auto}.warning-bar[data-v-1ef56466]::-webkit-scrollbar{height:3px}.warning-bar[data-v-1ef56466]::-webkit-scrollbar-thumb{background:#4a4a4a}.warning-scroll[data-v-1ef56466]{display:flex;gap:12px;flex-wrap:wrap}.warning-item[data-v-1ef56466]{display:flex;align-items:center;gap:6px;padding:4px 10px;border-radius:12px;font-size:11px;font-weight:500;white-space:nowrap;animation:pulse-1ef56466 2s infinite}.warning-item i[data-v-1ef56466]{font-size:12px}.warning-item.critical[data-v-1ef56466]{background:rgba(244,67,54,.2);color:#f44336;border:1px solid rgba(244,67,54,.4);animation:pulse-critical-1ef56466 1s infinite}.warning-item.warning[data-v-1ef56466]{background:rgba(255,152,0,.2);color:#ff9800;border:1px solid rgba(255,152,0,.4)}.warning-item.info[data-v-1ef56466]{background:rgba(158,158,158,.2);color:#9e9e9e;border:1px solid rgba(158,158,158,.4);animation:none}.warning-item.buff[data-v-1ef56466]{background:rgba(76,175,80,.2);color:#4caf50;border:1px solid rgba(76,175,80,.4);animation:none}@keyframes pulse-1ef56466{0%,100%{opacity:1}50%{opacity:.7}}@keyframes pulse-critical-1ef56466{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.8;transform:scale(1.02)}}
.world-header[data-v-52aadabd]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:linear-gradient(90deg,#1a4a6e 0%,#2d5a7e 100%);border-bottom:2px solid #4a4a4a}.header-left[data-v-52aadabd]{display:flex;flex-direction:column;gap:4px}.shelter-name[data-v-52aadabd]{font-size:18px;font-weight:bold;color:#d4a84b;display:flex;align-items:center;gap:8px}.shelter-name i[data-v-52aadabd]{font-size:20px}.disaster-info[data-v-52aadabd]{display:flex;gap:12px;font-size:12px}.disaster-type[data-v-52aadabd]{color:#ff6b35;font-weight:500}.timeline[data-v-52aadabd]{color:#a0a0a0}.header-right[data-v-52aadabd]{text-align:right}.datetime[data-v-52aadabd]{display:flex;flex-direction:column;gap:2px;font-size:12px;color:silver}.datetime i[data-v-52aadabd]{margin-right:4px;opacity:.7}
.shelter-panel[data-v-4cc82107]{width:100%;max-width:800px;margin:0 auto;background:linear-gradient(135deg,#1a1a1a 0%,#2d2d2d 100%);border:2px solid #4a4a4a;border-radius:8px;box-shadow:0 4px 20px rgba(0,0,0,.5),inset 0 1px 0 hsla(0,0%,100%,.1);font-family:var(--font-display);color:var(--c-vault-light);font-size:13px;line-height:1.4;overflow:hidden}.content-area[data-v-4cc82107]{padding:12px 16px;min-height:200px;background:rgba(0,0,0,.2)}.content-area.content-tab[data-v-4cc82107]{padding:0}
:root{--c-vault-dark:#1a1a1a;--c-vault-medium:#2d2d2d;--c-vault-light:#e0e0e0;--c-vault-accent:#d4a84b;--c-vault-warning:#ff6b35;--c-vault-danger:#f44336;--c-vault-success:#4caf50;--c-vault-info:#4fc3f7;--font-display:'Share Tech Mono','Consolas','Monaco',monospace;--font-body:'Noto Sans SC','Microsoft YaHei',sans-serif}*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}body{font-family:var(--font-body);background:transparent;color:var(--c-vault-light);line-height:1.4;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-track{background:rgba(0,0,0,0.3)}::-webkit-scrollbar-thumb{background:#4a4a4a;border-radius:3px}::-webkit-scrollbar-thumb:hover{background:#5a5a5a}.fa-solid,.fa-regular{display:inline-block;text-align:center}@keyframes fadeIn{from{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.6}}@keyframes glow{0%,100%{box-shadow:0 0 5px currentColor}50%{box-shadow:0 0 15px currentColor}}.text-warning{color:var(--c-vault-warning)}.text-danger{color:var(--c-vault-danger)}.text-success{color:var(--c-vault-success)}.text-info{color:var(--c-vault-info)}.text-accent{color:var(--c-vault-accent)}.stat-high{color:var(--c-vault-success);font-weight:bold}.stat-low{color:var(--c-vault-danger);font-weight:bold}.stat-critical{color:var(--c-vault-danger);font-weight:bold;animation:pulse 1s infinite}


/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div></body>