{"version":3,"file":"index.js","mappings":"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","sources":["src://tavern_helper_template/external var \"z\"","src://tavern_helper_template/src/我的乖乖女友/schema.ts","src://tavern_helper_template/src/我的乖乖女友/脚本/变量结构/index.ts"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = z;","export const Schema = z.object({\n    // --- 世界环境 ---\n    世界: z\n        .object({\n        当前日期: z.string().prefault('2020年9月1日'),\n        当前时间: z.string().prefault('18:30'),\n        当前地点: z.string().prefault('巷口'),\n        天气: z.string().prefault('晴'),\n    })\n        .prefault({\n        当前日期: '2020年9月1日',\n        当前时间: '18:30',\n        当前地点: '巷口',\n        天气: '晴',\n    }),\n    // --- 姜林的核心数据 ---\n    姜林: z\n        .object({\n        // 关系状态（用于分阶段控制器）\n        好感度: z.coerce\n            .number()\n            .transform(v => _.clamp(v, 0, 100))\n            .prefault(0),\n        关系状态: z.enum(['陌生人', '朋友', '暧昧', '恋人', '从属']).prefault('陌生人'),\n        // 基础状态\n        基础状态: z.object({\n            心情: z.string().prefault('紧张'),\n            当前状态: z.string().prefault('正常'),\n            体力: z.coerce\n                .number()\n                .transform(v => _.clamp(v, 0, 100))\n                .prefault(60),\n        }),\n        // 基础信息\n        年龄: z.coerce.number().prefault(16),\n        // 经济系统（精确到角）\n        财务: z.object({\n            现金: z.coerce\n                .number()\n                .transform(v => parseFloat(v.toFixed(1))) // 强制保留1位小数\n                .prefault(128.5),\n            欠债: z.coerce.number().prefault(0), // 欠User的钱\n            打工收入: z.coerce.number().prefault(0), // 累计打工赚的钱\n        }),\n        // 身体数据（随营养变化的可能性）\n        身体: z.object({\n            腿长: z.string().prefault('98cm'),\n            大腿围: z.string().prefault('36cm'),\n            私密部位: z.object({\n                乳房: z.string().prefault('A罩杯'),\n                胸部: z.string().prefault('隆起幅度小，乳晕淡粉'),\n                乳头状态: z.string().prefault('小巧内陷，淡粉稚嫩'),\n                下体: z.string().prefault('毛发稀疏，大阴唇闭合'),\n                小穴: z.string().prefault('未开发，紧致粉嫩'),\n            }),\n        }),\n        // 物品系统\n        背包: z\n            .record(z.string().describe('物品名称'), z.object({\n            描述: z.string().prefault('无描述'),\n            数量: z.coerce.number().prefault(1),\n        }))\n            // 自动过滤掉数量小于等于0的物品\n            .transform(data => _.pickBy(data, item => item.数量 > 0)),\n    })\n        .prefault({\n        好感度: 0,\n        关系状态: '陌生人',\n        基础状态: {\n            心情: '紧张',\n            当前状态: '正常',\n            体力: 60,\n        },\n        财务: {\n            现金: 128.5,\n            欠债: 0,\n            打工收入: 0,\n        },\n        身体: {\n            腿长: '98cm',\n            大腿围: '36cm',\n            私密部位: {\n                乳房: 'A罩杯',\n                胸部: '隆起幅度小，乳晕淡粉',\n                乳头状态: '小巧内陷，淡粉稚嫩',\n                下体: '毛发稀疏，大阴唇闭合',\n                小穴: '未开发，紧致粉嫩',\n            },\n        },\n        背包: {},\n    }),\n    // --- 沈婉清的核心数据（霸凌者/校花）---\n    沈婉清状态: z\n        .object({\n        屈从度: z.coerce\n            .number()\n            .transform(v => _.clamp(v, 0, 100))\n            .prefault(0),\n        好感度: z.coerce\n            .number()\n            .transform(v => _.clamp(v, -100, 100))\n            .prefault(-50),\n        心情: z.coerce\n            .number()\n            .transform(v => _.clamp(v, 0, 100))\n            .prefault(60),\n        关系: z.enum(['同学', '敌人', '奴隶', '玩物']).prefault('同学'),\n        当前状态: z.string().prefault('傲慢'),\n        是否处女: z.boolean().prefault(true),\n        是否怀孕: z.boolean().prefault(false),\n        存款: z.coerce.number().prefault(50000),\n        年龄: z.coerce.number().prefault(17),\n    })\n        .prefault({}),\n    沈婉清身体: z\n        .object({\n        胸部: z\n            .object({\n            描述: z.string().prefault('挺拔B罩杯'),\n            状态: z.string().prefault('未开发'),\n            特征: z.string().prefault('粉嫩/柔软'),\n            敏感度: z.coerce.number().prefault(0),\n        })\n            .prefault({}),\n        下体: z\n            .object({\n            描述: z.string().prefault('白虎无毛'),\n            状态: z.string().prefault('处女/紧致'),\n            特征: z.string().prefault('粉嫩/一线天'),\n            敏感度: z.coerce.number().prefault(0),\n            内射量: z.coerce.number().prefault(0),\n        })\n            .prefault({}),\n        臀部: z\n            .object({\n            描述: z.string().prefault('圆润挺翘'),\n            状态: z.string().prefault('未开发'),\n            特征: z.string().prefault('无痕/白皙'),\n            敏感度: z.coerce.number().prefault(0),\n        })\n            .prefault({}),\n        口腔: z\n            .object({\n            描述: z.string().prefault('湿润红唇'),\n            状态: z.string().prefault('未开发'),\n            敏感度: z.coerce.number().prefault(0),\n        })\n            .prefault({}),\n    })\n        .prefault({}),\n    沈婉清背包: z\n        .record(z.string().describe('物品名称'), z.object({\n        描述: z.string().prefault('无描述'),\n        数量: z.coerce.number().prefault(1),\n    }))\n        .prefault({\n        限量款iPhone: { 描述: '最新款的粉色iPhone，贴着水钻', 数量: 1 },\n        香奈儿口红: { 描述: '色号43，只用了一点点', 数量: 1 },\n        父亲的附属黑卡: { 描述: '额度很高的信用卡', 数量: 1 },\n        补妆镜: { 描述: '精致的小镜子', 数量: 1 },\n    }),\n    // --- 林小雨的核心数据 ---\n    林小雨状态: z\n        .object({\n        兄控度: z.coerce.number().prefault(15),\n        心情: z.coerce.number().prefault(80),\n        当前状态: z.string().prefault('娇纵'),\n        是否处女: z.boolean().prefault(true),\n        零花钱: z.coerce.number().prefault(200),\n        年龄: z.coerce.number().prefault(13),\n    })\n        .prefault({}),\n    林小雨身体: z\n        .object({\n        胸部: z\n            .object({\n            描述: z.string().prefault('微微隆起A罩杯'),\n            状态: z.string().prefault('发育初期'),\n            特征: z.string().prefault('小巧/稚嫩'),\n            敏感度: z.coerce.number().prefault(10),\n        })\n            .prefault({}),\n        下体: z\n            .object({\n            描述: z.string().prefault('光洁无毛'),\n            状态: z.string().prefault('处女/极紧'),\n            特征: z.string().prefault('稚嫩/闭合'),\n            敏感度: z.coerce.number().prefault(10),\n        })\n            .prefault({}),\n        臀部: z\n            .object({\n            描述: z.string().prefault('单薄紧实'),\n            状态: z.string().prefault('未开发'),\n            特征: z.string().prefault('骨感/缺乏弹性'),\n            敏感度: z.coerce.number().prefault(5),\n        })\n            .prefault({}),\n    })\n        .prefault({}),\n    林小雨背包: z\n        .record(z.string().describe('物品名称'), z.object({\n        描述: z.string().prefault('无描述'),\n        数量: z.coerce.number().prefault(1),\n    }))\n        .prefault({\n        贴满贴纸的手机: { 描述: '屏幕有点裂痕的旧手机', 数量: 1 },\n        半包薯片: { 描述: '番茄味的，吃了一半', 数量: 1 },\n        你的备用钥匙: { 描述: '偷偷配的User家钥匙', 数量: 1 },\n        没写完的作业本: { 描述: '上面画满了涂鸦', 数量: 1 },\n    }),\n});\n","import { registerMvuSchema } from 'https://testingcf.jsdelivr.net/gh/StageDog/tavern_resource/dist/util/mvu_zod.js';\nimport { Schema } from '../../schema';\n\n$(() => {\n  registerMvuSchema(Schema);\n});\n"],"names":["z","Schema","object","string","prefault","coerce","number","transform","v","_","clamp","enum","parseFloat","toFixed","record","describe","data","pickBy","item","boolean","$"],"ignoreList":[],"sourceRoot":""}